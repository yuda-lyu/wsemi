/*!
 * wsemip v1.8.6
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("path"),require("fs")):"function"==typeof define&&define.amd?define(["exports","path","fs"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).wsemip={},t.path,t.fs)}(this,(function(t,e,n){"use strict";function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,u){if("function"!=typeof r)throw new TypeError("The listener must be a function");var c=new o(r,i||t,u),f=n?n+e:e;return t._events[f]?t._events[f].fn?t._events[f]=[t._events[f],c]:t._events[f].push(c):(t._events[f]=c,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),c.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},c.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,u=new Array(i);o<i;o++)u[o]=r[o].fn;return u},c.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,e,r,o,i,u){var c=n?n+t:t;if(!this._events[c])return!1;var f,a,s=this._events[c],l=arguments.length;if(s.fn){switch(s.once&&this.removeListener(t,s.fn,void 0,!0),l){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,e),!0;case 3:return s.fn.call(s.context,e,r),!0;case 4:return s.fn.call(s.context,e,r,o),!0;case 5:return s.fn.call(s.context,e,r,o,i),!0;case 6:return s.fn.call(s.context,e,r,o,i,u),!0}for(a=1,f=new Array(l-1);a<l;a++)f[a-1]=arguments[a];s.fn.apply(s.context,f)}else{var p,h=s.length;for(a=0;a<h;a++)switch(s[a].once&&this.removeListener(t,s[a].fn,void 0,!0),l){case 1:s[a].fn.call(s[a].context);break;case 2:s[a].fn.call(s[a].context,e);break;case 3:s[a].fn.call(s[a].context,e,r);break;case 4:s[a].fn.call(s[a].context,e,r,o);break;default:if(!f)for(p=1,f=new Array(l-1);p<l;p++)f[p-1]=arguments[p];s[a].fn.apply(s[a].context,f)}}return!0},c.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var c=this._events[i];if(c.fn)c.fn!==e||o&&!c.once||r&&c.context!==r||u(this,i);else{for(var f=0,a=[],s=c.length;f<s;f++)(c[f].fn!==e||o&&!c[f].once||r&&c[f].context!==r)&&a.push(c[f]);a.length?this._events[i]=1===a.length?a[0]:a:u(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&u(this,e)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(o);var i=r(o.exports);function u(){return new i}var c=Array.isArray,f="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,s=f||a||Function("return this")(),l=s.Symbol,p=Object.prototype,h=p.hasOwnProperty,v=p.toString,d=l?l.toStringTag:void 0;var y=Object.prototype.toString;var g="[object Null]",b="[object Undefined]",j=l?l.toStringTag:void 0;function _(t){return null==t?void 0===t?b:g:j&&j in Object(t)?function(t){var e=h.call(t,d),n=t[d];try{t[d]=void 0;var r=!0}catch(t){}var o=v.call(t);return r&&(e?t[d]=n:delete t[d]),o}(t):function(t){return y.call(t)}(t)}function m(t){return null!=t&&"object"==typeof t}var w="[object Symbol]";function S(t){return"symbol"==typeof t||m(t)&&_(t)==w}var O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/;function A(t,e){if(c(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!S(t))||(x.test(t)||!O.test(t)||null!=e&&t in Object(e))}function F(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var k="[object AsyncFunction]",P="[object Function]",E="[object GeneratorFunction]",z="[object Proxy]";function R(t){if(!F(t))return!1;var e=_(t);return e==P||e==E||e==k||e==z}var $,I=s["__core-js_shared__"],C=($=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"";var T=Function.prototype.toString;function N(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var L=/^\[object .+?Constructor\]$/,D=Function.prototype,M=Object.prototype,B=D.toString,U=M.hasOwnProperty,W=RegExp("^"+B.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q(t){return!(!F(t)||(e=t,C&&C in e))&&(R(t)?W:L).test(N(t));var e}function G(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return q(n)?n:void 0}var V=G(Object,"create");var J=Object.prototype.hasOwnProperty;var H=Object.prototype.hasOwnProperty;function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function K(t,e){return t===e||t!=t&&e!=e}function X(t,e){for(var n=t.length;n--;)if(K(t[n][0],e))return n;return-1}Q.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},Q.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Q.prototype.get=function(t){var e=this.__data__;if(V){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return J.call(e,t)?e[t]:void 0},Q.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:H.call(e,t)},Q.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=V&&void 0===e?"__lodash_hash_undefined__":e,this};var Y=Array.prototype.splice;function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(t){var e=this.__data__,n=X(e,t);return!(n<0)&&(n==e.length-1?e.pop():Y.call(e,n,1),--this.size,!0)},Z.prototype.get=function(t){var e=this.__data__,n=X(e,t);return n<0?void 0:e[n][1]},Z.prototype.has=function(t){return X(this.__data__,t)>-1},Z.prototype.set=function(t,e){var n=this.__data__,r=X(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var tt=G(s,"Map");function et(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nt.prototype.clear=function(){this.size=0,this.__data__={hash:new Q,map:new(tt||Z),string:new Q}},nt.prototype.delete=function(t){var e=et(this,t).delete(t);return this.size-=e?1:0,e},nt.prototype.get=function(t){return et(this,t).get(t)},nt.prototype.has=function(t){return et(this,t).has(t)},nt.prototype.set=function(t,e){var n=et(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var rt="Expected a function";function ot(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(rt);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(ot.Cache||nt),n}ot.Cache=nt;var it,ut,ct,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,at=/\\(\\)?/g,st=(it=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ft,(function(t,n,r,o){e.push(r?o.replace(at,"$1"):n||t)})),e},ut=ot(it,(function(t){return 500===ct.size&&ct.clear(),t})),ct=ut.cache,ut),lt=st;function pt(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var ht=1/0,vt=l?l.prototype:void 0,dt=vt?vt.toString:void 0;function yt(t){if("string"==typeof t)return t;if(c(t))return pt(t,yt)+"";if(S(t))return dt?dt.call(t):"";var e=t+"";return"0"==e&&1/t==-ht?"-0":e}function gt(t){return null==t?"":yt(t)}function bt(t,e){return c(t)?t:A(t,e)?[t]:lt(gt(t))}var jt=1/0;function _t(t){if("string"==typeof t||S(t))return t;var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function mt(t,e){for(var n=0,r=(e=bt(e,t)).length;null!=t&&n<r;)t=t[_t(e[n++])];return n&&n==r?t:void 0}function wt(t,e,n){var r=null==t?void 0:mt(t,e);return void 0===r?n:r}function St(t){let e=wt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"fs");if(!e.existsSync(t))return!1;let n=e.lstatSync(t);return!n.isFile()&&!n.isSymbolicLink()}function Ot(t){let e=wt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"fs");if(St(t,{fs:e}))return{success:"input folder is already exists: "+t};if(e.existsSync(t))return{error:"input path already exists: "+t};try{e.mkdirSync(t,{recursive:!0})}catch(t){return{error:t}}return{success:"done: "+t}}var xt="[object Boolean]";function At(t){return!0===t||!1===t||m(t)&&_(t)==xt}function Ft(t){return At(t)}function kt(t){let e=wt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"fs");return!!e.existsSync(t)&&(!e.lstatSync(t).isDirectory()&&!e.lstatSync(t).isSymbolicLink())}function Pt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=wt(n,"path"),o=wt(n,"fs"),i=wt(n,"useSync","");Ft(i)||(i=!0);let u="";return u=i?function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=wt(n,"path"),o=wt(n,"fs");if(!kt(t,{fs:o}))return{error:`fpSrc[${t}] is not a file`};try{Ot(r.dirname(e),{fs:o}),o.copyFileSync(t,e)}catch(t){return{error:t}}return{success:"done: "+e}}(t,e,{path:r,fs:o}):async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=wt(n,"path"),o=wt(n,"fs");if(!kt(t,{fs:o}))return{error:`fpSrc[${t}] is not a file`};let i=null;return await(async(t,e)=>{Ot(r.dirname(e),{fs:o}),await new Promise(((n,r)=>{let i=o.createReadStream(t),u=o.createWriteStream(e);i.on("error",r),u.on("error",r),u.on("finish",n),i.pipe(u)}))})(t,e).then((()=>{i={success:"done: "+e}})).catch((t=>{i={error:t}})),i}(t,e,{path:r,fs:o}),u}function Et(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=wt(n,"path"),o=wt(n,"fs");if(!St(t,{fs:o}))return{error:`fpSrc[${t}] is not a folder`};try{o.readdirSync(t).forEach((function(n){let i=r.resolve(t,n),u=r.resolve(e,n),c=o.lstatSync(i);if(c.isDirectory())Ot(u,{fs:o}),Et(i,u,{path:r,fs:o});else if(c.isSymbolicLink()){let t=o.readlinkSync(i);o.symlinkSync(t,u)}else Ot(r.dirname(u),{fs:o}),o.copyFileSync(i,u)}))}catch(t){return{error:t}}return{success:"done: "+e}}function zt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=wt(n,"path"),o=wt(n,"fs"),i=wt(n,"useSync","");Ft(i)||(i=!0);let u="";return u=i?Et(t,e,{path:r,fs:o}):async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=wt(n,"path"),o=wt(n,"fs");if(!St(t,{fs:o}))return{error:`fpSrc[${t}] is not a folder`};let i=async(t,e)=>{let n=o.readdirSync(t);for(let u of n){let n=r.join(t,u),c=r.join(e,u),f=o.lstatSync(n);if(f.isDirectory())Ot(c,{fs:o}),await i(n,c);else if(f.isSymbolicLink()){let t=o.readlinkSync(n);o.symlinkSync(t,c)}else Ot(r.dirname(c),{fs:o}),await new Promise(((t,e)=>{let r=o.createReadStream(n),i=o.createWriteStream(c);r.on("error",e),i.on("error",e),i.on("finish",t),r.pipe(i)}))}},u=null;return await i(t,e).then((()=>{u={success:"done: "+e}})).catch((t=>{u={error:t}})),u}(t,e,{path:r,fs:o}),u}function Rt(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}var $t,It=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),u=i.length;u--;){var c=i[$t?u:++r];if(!1===e(o[c],c,o))break}return t};function Ct(t){return m(t)&&"[object Arguments]"==_(t)}var Tt=Object.prototype,Nt=Tt.hasOwnProperty,Lt=Tt.propertyIsEnumerable,Dt=Ct(function(){return arguments}())?Ct:function(t){return m(t)&&Nt.call(t,"callee")&&!Lt.call(t,"callee")},Mt=Dt;var Bt="object"==typeof t&&t&&!t.nodeType&&t,Ut=Bt&&"object"==typeof module&&module&&!module.nodeType&&module,Wt=Ut&&Ut.exports===Bt?s.Buffer:void 0,qt=(Wt?Wt.isBuffer:void 0)||function(){return!1},Gt=9007199254740991,Vt=/^(?:0|[1-9]\d*)$/;function Jt(t,e){var n=typeof t;return!!(e=null==e?Gt:e)&&("number"==n||"symbol"!=n&&Vt.test(t))&&t>-1&&t%1==0&&t<e}var Ht=9007199254740991;function Qt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ht}var Kt={};function Xt(t){return function(e){return t(e)}}Kt["[object Float32Array]"]=Kt["[object Float64Array]"]=Kt["[object Int8Array]"]=Kt["[object Int16Array]"]=Kt["[object Int32Array]"]=Kt["[object Uint8Array]"]=Kt["[object Uint8ClampedArray]"]=Kt["[object Uint16Array]"]=Kt["[object Uint32Array]"]=!0,Kt["[object Arguments]"]=Kt["[object Array]"]=Kt["[object ArrayBuffer]"]=Kt["[object Boolean]"]=Kt["[object DataView]"]=Kt["[object Date]"]=Kt["[object Error]"]=Kt["[object Function]"]=Kt["[object Map]"]=Kt["[object Number]"]=Kt["[object Object]"]=Kt["[object RegExp]"]=Kt["[object Set]"]=Kt["[object String]"]=Kt["[object WeakMap]"]=!1;var Yt="object"==typeof t&&t&&!t.nodeType&&t,Zt=Yt&&"object"==typeof module&&module&&!module.nodeType&&module,te=Zt&&Zt.exports===Yt&&f.process,ee=function(){try{var t=Zt&&Zt.require&&Zt.require("util").types;return t||te&&te.binding&&te.binding("util")}catch(t){}}(),ne=ee&&ee.isTypedArray,re=ne?Xt(ne):function(t){return m(t)&&Qt(t.length)&&!!Kt[_(t)]},oe=Object.prototype.hasOwnProperty;function ie(t,e){var n=c(t),r=!n&&Mt(t),o=!n&&!r&&qt(t),i=!n&&!r&&!o&&re(t),u=n||r||o||i,f=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],a=f.length;for(var s in t)!e&&!oe.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Jt(s,a))||f.push(s);return f}var ue=Object.prototype;var ce=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),fe=ce,ae=Object.prototype.hasOwnProperty;function se(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||ue))return fe(t);var e,n,r=[];for(var o in Object(t))ae.call(t,o)&&"constructor"!=o&&r.push(o);return r}function le(t){return null!=t&&Qt(t.length)&&!R(t)}function pe(t){return le(t)?ie(t):se(t)}var he=function(t,e){return function(n,r){if(null==n)return n;if(!le(n))return t(n,r);for(var o=n.length,i=e?o:-1,u=Object(n);(e?i--:++i<o)&&!1!==r(u[i],i,u););return n}}((function(t,e){return t&&It(t,e,pe)})),ve=he;function de(t,e){var n=[];return ve(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function ye(t){var e=this.__data__=new Z(t);this.size=e.size}ye.prototype.clear=function(){this.__data__=new Z,this.size=0},ye.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},ye.prototype.get=function(t){return this.__data__.get(t)},ye.prototype.has=function(t){return this.__data__.has(t)},ye.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Z){var r=n.__data__;if(!tt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nt(r)}return n.set(t,e),this.size=n.size,this};function ge(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new nt;++e<n;)this.add(t[e])}function be(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function je(t,e){return t.has(e)}ge.prototype.add=ge.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ge.prototype.has=function(t){return this.__data__.has(t)};var _e=1,me=2;function we(t,e,n,r,o,i){var u=n&_e,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var a=i.get(t),s=i.get(e);if(a&&s)return a==e&&s==t;var l=-1,p=!0,h=n&me?new ge:void 0;for(i.set(t,e),i.set(e,t);++l<c;){var v=t[l],d=e[l];if(r)var y=u?r(d,v,l,e,t,i):r(v,d,l,t,e,i);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!be(e,(function(t,e){if(!je(h,e)&&(v===t||o(v,t,n,r,i)))return h.push(e)}))){p=!1;break}}else if(v!==d&&!o(v,d,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p}var Se=s.Uint8Array;function Oe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function xe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Ae=1,Fe=2,ke="[object Boolean]",Pe="[object Date]",Ee="[object Error]",ze="[object Map]",Re="[object Number]",$e="[object RegExp]",Ie="[object Set]",Ce="[object String]",Te="[object Symbol]",Ne="[object ArrayBuffer]",Le="[object DataView]",De=l?l.prototype:void 0,Me=De?De.valueOf:void 0;var Be=Object.prototype.propertyIsEnumerable,Ue=Object.getOwnPropertySymbols,We=Ue?function(t){return null==t?[]:(t=Object(t),Rt(Ue(t),(function(e){return Be.call(t,e)})))}:function(){return[]};function qe(t){return function(t,e,n){var r=e(t);return c(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,pe,We)}var Ge=1,Ve=Object.prototype.hasOwnProperty;var Je=G(s,"DataView"),He=G(s,"Promise"),Qe=G(s,"Set"),Ke=G(s,"WeakMap"),Xe="[object Map]",Ye="[object Promise]",Ze="[object Set]",tn="[object WeakMap]",en="[object DataView]",nn=N(Je),rn=N(tt),on=N(He),un=N(Qe),cn=N(Ke),fn=_;(Je&&fn(new Je(new ArrayBuffer(1)))!=en||tt&&fn(new tt)!=Xe||He&&fn(He.resolve())!=Ye||Qe&&fn(new Qe)!=Ze||Ke&&fn(new Ke)!=tn)&&(fn=function(t){var e=_(t),n="[object Object]"==e?t.constructor:void 0,r=n?N(n):"";if(r)switch(r){case nn:return en;case rn:return Xe;case on:return Ye;case un:return Ze;case cn:return tn}return e});var an=fn,sn=1,ln="[object Arguments]",pn="[object Array]",hn="[object Object]",vn=Object.prototype.hasOwnProperty;function dn(t,e,n,r,o,i){var u=c(t),f=c(e),a=u?pn:an(t),s=f?pn:an(e),l=(a=a==ln?hn:a)==hn,p=(s=s==ln?hn:s)==hn,h=a==s;if(h&&qt(t)){if(!qt(e))return!1;u=!0,l=!1}if(h&&!l)return i||(i=new ye),u||re(t)?we(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case Le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ne:return!(t.byteLength!=e.byteLength||!i(new Se(t),new Se(e)));case ke:case Pe:case Re:return K(+t,+e);case Ee:return t.name==e.name&&t.message==e.message;case $e:case Ce:return t==e+"";case ze:var c=Oe;case Ie:var f=r&Ae;if(c||(c=xe),t.size!=e.size&&!f)return!1;var a=u.get(t);if(a)return a==e;r|=Fe,u.set(t,e);var s=we(c(t),c(e),r,o,i,u);return u.delete(t),s;case Te:if(Me)return Me.call(t)==Me.call(e)}return!1}(t,e,a,n,r,o,i);if(!(n&sn)){var v=l&&vn.call(t,"__wrapped__"),d=p&&vn.call(e,"__wrapped__");if(v||d){var y=v?t.value():t,g=d?e.value():e;return i||(i=new ye),o(y,g,n,r,i)}}return!!h&&(i||(i=new ye),function(t,e,n,r,o,i){var u=n&Ge,c=qe(t),f=c.length;if(f!=qe(e).length&&!u)return!1;for(var a=f;a--;){var s=c[a];if(!(u?s in e:Ve.call(e,s)))return!1}var l=i.get(t),p=i.get(e);if(l&&p)return l==e&&p==t;var h=!0;i.set(t,e),i.set(e,t);for(var v=u;++a<f;){var d=t[s=c[a]],y=e[s];if(r)var g=u?r(y,d,s,e,t,i):r(d,y,s,t,e,i);if(!(void 0===g?d===y||o(d,y,n,r,i):g)){h=!1;break}v||(v="constructor"==s)}if(h&&!v){var b=t.constructor,j=e.constructor;b==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,n,r,o,i))}function yn(t,e,n,r,o){return t===e||(null==t||null==e||!m(t)&&!m(e)?t!=t&&e!=e:dn(t,e,n,r,yn,o))}var gn=1,bn=2;function jn(t){return t==t&&!F(t)}function _n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function mn(t){var e=function(t){for(var e=pe(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,jn(o)]}return e}(t);return 1==e.length&&e[0][2]?_n(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var c=n[o];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<i;){var f=(c=n[o])[0],a=t[f],s=c[1];if(u&&c[2]){if(void 0===a&&!(f in t))return!1}else{var l=new ye;if(r)var p=r(a,s,f,t,e,l);if(!(void 0===p?yn(s,a,gn|bn,r,l):p))return!1}}return!0}(n,t,e)}}function wn(t,e){return null!=t&&e in Object(t)}function Sn(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=bt(e,t)).length,i=!1;++r<o;){var u=_t(e[r]);if(!(i=null!=t&&n(t,u)))break;t=t[u]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Qt(o)&&Jt(u,o)&&(c(t)||Mt(t))}(t,e,wn)}var On=1,xn=2;function An(t){return t}function Fn(t){return function(e){return null==e?void 0:e[t]}}function kn(t){return A(t)?Fn(_t(t)):function(t){return function(e){return mt(e,t)}}(t)}function Pn(t){return"function"==typeof t?t:null==t?An:"object"==typeof t?c(t)?function(t,e){return A(t)&&jn(e)?_n(_t(t),e):function(n){var r=wt(n,t);return void 0===r&&r===e?Sn(n,t):yn(e,r,On|xn)}}(t[0],t[1]):mn(t):kn(t)}function En(t,e){return(c(t)?Rt:de)(t,Pn(e))}function zn(t,e){var n=-1,r=le(t)?Array(t.length):[];return ve(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}function Rn(t,e){return(c(t)?pt:zn)(t,Pn(e))}function $n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function In(t,e){var n;return(c(t)?$n:ve)(t,"function"==typeof(n=e)?n:An)}function Cn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=1,o=wt(n,"path"),i=wt(n,"fs");if(!St(t,{fs:i}))throw new Error(`fd[${t}] is not a folder`);return function t(n){let u=[];return St(n,{fs:i})?(In(i.readdirSync(n),(function(c){let f=o.resolve(n,c),a=null;try{a=i.statSync(f)}catch(t){}a&&a.isDirectory()?(u.push({isFolder:!0,level:r,path:f,name:o.basename(f)}),r+=1,(r<=e||null===e)&&(u=u.concat(t(f))),r-=1):u.push({isFolder:!1,level:r,path:f,name:o.basename(f)})})),u):u}(t)}function Tn(t){return"[object String]"===Object.prototype.toString.call(t)}function Nn(t){return!(!Tn(t)||""===t)}var Ln=/\s/;var Dn=/^\s+/;function Mn(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Ln.test(t.charAt(e)););return e}(t)+1).replace(Dn,""):t}var Bn=NaN,Un=/^[-+]0x[0-9a-f]+$/i,Wn=/^0b[01]+$/i,qn=/^0o[0-7]+$/i,Gn=parseInt;function Vn(t){if("number"==typeof t)return t;if(S(t))return Bn;if(F(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=F(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Mn(t);var n=Wn.test(t);return n||qn.test(t)?Gn(t.slice(2),n?2:8):Un.test(t)?Bn:+t}var Jn=1/0,Hn=17976931348623157e292;function Qn(t){return t?(t=Vn(t))===Jn||t===-Jn?(t<0?-1:1)*Hn:t==t?t:0:0===t?t:0}function Kn(t){var e=Qn(t),n=e%1;return e==e?n?e-n:e:0}function Xn(t){return"[object Number]"===Object.prototype.toString.call(t)}function Yn(t){return t!=t}function Zn(t){let e=!1;if(Nn(t))e=!isNaN(Number(t));else if(Xn(t)){if(Yn(t))return!1;e=!0}return e}function tr(t){if(!Zn(t))return 0;return Qn(t)}function er(t){return!!Zn(t)&&(t=tr(t),"number"==typeof(e=t)&&e==Kn(e));var e}var nr=s.isFinite,rr=Math.min;var or=function(t){var e=Math[t];return function(t,n){if(t=Vn(t),(n=null==n?0:rr(Kn(n),292))&&nr(t)){var r=(gt(t)+"e").split("e");return+((r=(gt(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}("round"),ir=or;function ur(t){if(!Zn(t))return 0;t=tr(t);let e=ir(t);return"0"===String(e)?0:e}function cr(t){if(!er(t))return!1;return ur(t)>=0}function fr(t,e){if(!Nn(t))return"";if(!cr(e))return"";if(0===(e=ur(e)))return"";let n=t.length-e;return n<0&&(n=0),t.substring(n,n+e)}function ar(t,e){return Nn(t)&&cr(e)?0===(e=ur(e))?"":t.substring(0,e):""}function sr(t,e){return Nn(t)&&cr(e)?0===(e=ur(e))?t:ar(t,t.length-e):""}function lr(t){if(!Nn(t))return{path:"",isRoot:!1};for(;t.indexOf("\\\\")>=0;)t=t.replace("\\\\","\\");for(;t.indexOf("//")>=0;)t=t.replace("//","/");if(":"===fr(t,1))return{path:`${t}\\`,isRoot:!0};if("\\"===fr(t,1)){let e=sr(t,1);return":"===fr(e,1)?{path:t,isRoot:!0}:{path:e,isRoot:!1}}if("/"===fr(t,1)){let e=sr(t,1);return 0===e.length?{path:t,isRoot:!0}:{path:e,isRoot:!1}}return{path:t,isRoot:!1}}function pr(t){if(!Nn(t))return"";let e=lr(t);if(e.isRoot)return e.path;let n=e.path;try{n=n.split("\\").pop().split("/").pop()}catch(t){}return n}function hr(t){if(!Nn(t))return"";let e=lr(t);if(e.isRoot)return e.path;let n=pr(t=e.path);if(!Nn(n))return t;let r=lr(t=sr(t,n.length));return r.isRoot,r.path}function vr(t){if(!er(t))return!1;return ur(t)>0}let dr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),yr=dr.length;function gr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];t=vr(t)?ur(t):32;for(let n=0;n<t;n++)e[n]=dr[0|Math.random()*yr];return e.join("")}function br(){let t,e,n=new Promise((function(){t=arguments[0],e=arguments[1]}));return n.resolve=t,n.reject=e,n}var jr=Array.prototype.join;function _r(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function mr(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:_r(t,e,n)}var wr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Sr(t){return wr.test(t)}var Or=ee&&ee.isRegExp,xr=Or?Xt(Or):function(t){return m(t)&&"[object RegExp]"==_(t)};var Ar="\\ud800-\\udfff",Fr="["+Ar+"]",kr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pr="\\ud83c[\\udffb-\\udfff]",Er="[^"+Ar+"]",zr="(?:\\ud83c[\\udde6-\\uddff]){2}",Rr="[\\ud800-\\udbff][\\udc00-\\udfff]",$r="(?:"+kr+"|"+Pr+")"+"?",Ir="[\\ufe0e\\ufe0f]?",Cr=Ir+$r+("(?:\\u200d(?:"+[Er,zr,Rr].join("|")+")"+Ir+$r+")*"),Tr="(?:"+[Er+kr+"?",kr,zr,Rr,Fr].join("|")+")",Nr=RegExp(Pr+"(?="+Pr+")|"+Tr+Cr,"g");function Lr(t){return Sr(t)?function(t){return t.match(Nr)||[]}(t):function(t){return t.split("")}(t)}var Dr=4294967295;function Mr(t,e,n){return n&&"number"!=typeof n&&function(t,e,n){if(!F(n))return!1;var r=typeof e;return!!("number"==r?le(n)&&Jt(e,n.length):"string"==r&&e in n)&&K(n[e],t)}(t,e,n)&&(e=n=void 0),(n=void 0===n?Dr:n>>>0)?(t=gt(t))&&("string"==typeof e||null!=e&&!xr(e))&&!(e=yt(e))&&Sr(t)?mr(Lr(t),0,n):t.split(e,n):[]}var Br="[object String]";var Ur=Fn("length"),Wr="\\ud800-\\udfff",qr="["+Wr+"]",Gr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Vr="\\ud83c[\\udffb-\\udfff]",Jr="[^"+Wr+"]",Hr="(?:\\ud83c[\\udde6-\\uddff]){2}",Qr="[\\ud800-\\udbff][\\udc00-\\udfff]",Kr="(?:"+Gr+"|"+Vr+")"+"?",Xr="[\\ufe0e\\ufe0f]?",Yr=Xr+Kr+("(?:\\u200d(?:"+[Jr,Hr,Qr].join("|")+")"+Xr+Kr+")*"),Zr="(?:"+[Jr+Gr+"?",Gr,Hr,Qr,qr].join("|")+")",to=RegExp(Vr+"(?="+Vr+")|"+Zr+Yr,"g");function eo(t){return Sr(t)?function(t){for(var e=to.lastIndex=0;to.test(t);)++e;return e}(t):Ur(t)}var no="[object Map]",ro="[object Set]";function oo(t){if(null==t)return 0;if(le(t))return"string"==typeof(e=t)||!c(e)&&m(e)&&_(e)==Br?eo(t):t.length;var e,n=an(t);return n==no||n==ro?t.size:se(t).length}function io(t){return"[object Array]"===Object.prototype.toString.call(t)}function uo(t){return!!io(t)&&0===t.length}function co(t){return"[object Undefined]"===Object.prototype.toString.call(t)}function fo(t){return"[object Null]"===Object.prototype.toString.call(t)}function ao(t){return"[object Object]"===Object.prototype.toString.call(t)}function so(t){if(ao(t)){for(let e in t)return!1;return!0}return!1}function lo(t){return!(!Tn(t)||""!==t)}function po(t){return!!co(t)||(!!fo(t)||(!!so(t)||(!!lo(t)||(!!uo(t)||!!Yn(t)))))}function ho(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function vo(t){if(!er(t))return!1;return ur(t)<0}function yo(t){let e,n=Object.prototype.toString.call(t);if(e="[object Promise]"===n,e)return!0;if("[object Function]"!==n)return!1;try{e="function"!=typeof t.subscribe&&"function"==typeof t.then}catch(t){}return e}let go=function(t){if(!ho(t))throw new Error("fn is not a function");return function(){let e=br(),n=null,r=null;try{n=t.apply(this,arguments)}catch(t){r=t}return null!==r?e.resolve({state:"error",msg:r}):yo(n)?n.then((t=>{e.resolve({state:"success",msg:t})})).catch((t=>{"cancelled"===wt(t,"reason")?e.resolve({state:"cancelled",msg:""}):e.resolve({state:"error",msg:t})})):e.resolve({state:"success",msg:n}),e}};function bo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(!ho(t))return null;function n(t,e){let n;return fo(t)||co(t)?e:(n=wt(t,"data",null),n||t)}return ho(e)||(e=()=>{}),function(){let r,o=br(),i=e({mode:"before",data:arguments});return(fo(i)||co(i))&&(i=arguments),t(...i).then((t=>{r=e({mode:"afterThen",data:t}),t=n(r,t),o.resolve(t)})).catch((t=>{r=e({mode:"afterCatch",data:t}),t=n(r,t),o.reject(t)})),o}}function jo(t){return null==t?[]:function(t,e){return pt(e,(function(e){return t[e]}))}(t,pe(t))}function _o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=0,n=[];vo(t)&&(t=0),t=ur(t);let r=u();return r.get=function(){if(n.length>0){return e+=1,n.splice(0,1)[0]}return null},r.cb=function(){e-=1,e<0&&(e=0),n.length>0&&r.emit("message",n)},r.push=function(o){n.push(o),(t<=0||e<t)&&r.emit("message",n)},r.clear=function(){e=0,n=[]},r}function mo(t){return t!=t}function wo(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,mo,n)}function So(t,e,n){if((t=gt(t))&&(n||void 0===e))return Mn(t);if(!t||!(e=yt(e)))return t;var r=Lr(t),o=Lr(e),i=function(t,e){for(var n=-1,r=t.length;++n<r&&wo(e,t[n],0)>-1;);return n}(r,o),u=function(t,e){for(var n=t.length;n--&&wo(e,t[n],0)>-1;);return n}(r,o)+1;return mr(r,i,u).join("")}t.evem=u,t.fsCleanFolder=function(t){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=wt(e,"path"),r=wt(e,"fs");if(!r.existsSync(t)){let e=Ot(t,{fs:r});return e.error?e.error:{success:"done: "+t}}if(!St(t,{fs:r}))return{error:"input path is not a folder"};try{let e=r.readdirSync(t);for(let o of e){let e=n.join(t,o);r.statSync(e).isDirectory()?r.rmSync(e,{recursive:!0,force:!0}):r.unlinkSync(e)}}catch(t){return{error:t}}return{success:"done: "+t}}(t,{path:e,fs:n})},t.fsCopyFile=function(t,r){return Pt(t,r,{path:e,fs:n,...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}})},t.fsCopyFolder=function(t,r){return zt(t,r,{path:e,fs:n,...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}})},t.fsCreateFolder=function(t){return Ot(t,{fs:n})},t.fsDeleteFolder=function(t){return function(t){let e=wt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"fs");if(!e.existsSync(t))return{success:"folder does not exist: "+t};if(!St(t,{fs:e}))return{error:"input path is not a folder: "+t};try{e.rmSync(t,{recursive:!0,force:!0})}catch(t){return{error:t}}return{success:"done: "+t}}(t,{fs:n})},t.fsGetFilesInFolder=function(t){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=wt(n,"path"),o=wt(n,"fs");if(!St(t,{fs:o}))throw new Error(`fd[${t}] is not a folder`);let i=[];return i=Cn(t,e,{path:r,fs:o}),i=En(i,{isFolder:!1}),i=Rn(i,(t=>(delete t.isFolder,t))),i}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{path:e,fs:n})},t.fsGetFoldersInFolder=function(t){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=wt(n,"path"),o=wt(n,"fs");if(!St(t,{fs:o}))throw new Error(`fd[${t}] is not a folder`);let i=[];return i=Cn(t,e,{path:r,fs:o}),i=En(i,{isFolder:!0}),i=Rn(i,(t=>(delete t.isFolder,t))),i}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{path:e,fs:n})},t.fsIsFile=function(t){return kt(t,{fs:n})},t.fsIsFolder=function(t){return St(t,{fs:n})},t.fsReadText=function(t){return function(t){let e=null,n=wt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"fs"),r="";try{r=n.readFileSync(t,"utf8")}catch(t){e=t}return null!==e?{error:e}:{success:r}}(t,{fs:n})},t.fsTreeFolder=function(t){return Cn(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{path:e,fs:n})},t.fsWriteText=function(t,e){return function(t,e){let n=null,r=wt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"fs"),o=hr(t);St(o,{fs:r})||Ot(o,{fs:r});try{r.writeFileSync(t,e,"utf8")}catch(t){n=t}return null!==n?{error:n}:{success:t}}(t,e,{fs:n})},t.genID=gr,t.genPm=br,t.getClearPathName=lr,t.getFileName=pr,t.getFileTrueName=function(t){if(!Nn(t))return"";let e=pr(t),n=Mr(e,".");if(oo(n)<=1)return e;let r="";try{n=(c=null==(o=n)?0:o.length)?_r(o,0,(i=c-(i=u||void 0===i?1:Kn(i)))<0?0:i):[],r=function(t,e){return null==t?"":jr.call(t,e)}(n,".")}catch(t){}var o,i,u,c;return r},t.getGlobal=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window&&void 0!==window.document?window:"undefined"!=typeof global?global:null},t.getPathParent=hr,t.isEmail=function(t){return!!Nn(t)&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)},t.isIE=function(){return null!==navigator.userAgent.toLowerCase().match(/rv:([\d.]+)\) like gecko/)},t.isab=function(t){return"[object ArrayBuffer]"===Object.prototype.toString.call(t)},t.isarr=io,t.isarr0=uo,t.isblob=function(t){return"[object Blob]"===Object.prototype.toString.call(t)},t.isbol=Ft,t.isearr=function(t){return!!io(t)&&(0!==t.length&&(1!==t.length||!po(t[0])))},t.iseobj=function(t){if(ao(t)){for(let e in t)return!0;return!1}return!1},t.iser=po,t.isernot=function(t){return!po(t)},t.isestr=Nn,t.isfun=ho,t.isint=er,t.isn0int=function(t){return!!er(t)&&ur(t)<=0},t.isn0num=function(t){return!!Zn(t)&&tr(t)<=0},t.isnbr=Xn,t.isnint=vo,t.isnull=fo,t.isnum=Zn,t.isobj=ao,t.isobj0=so,t.isp0int=cr,t.isp0num=function(t){return!!Zn(t)&&tr(t)>=0},t.ispint=vr,t.ispm=yo,t.isstr=Tn,t.isstr0=lo,t.isundefined=co,t.j2o=function(t){if(!Nn(t))return{};let e={};try{e=JSON.parse(t)}catch(t){e={}}return e},t.o2j=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(co(t))return"";let n="";try{n=e?JSON.stringify(t,null,2):JSON.stringify(t)}catch(t){n=""}return n},t.pm2resolve=go,t.pmChain=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!io(t)){let t=br();return t.reject("pms is not an array"),t}return t.reduce(((t,e)=>t.then(e)),Promise.resolve(e))},t.pmHook=bo,t.pmHookReject=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return ho(t)?(ho(e)||(e=()=>{}),bo(t,(t=>{if("afterCatch"===t.mode)return e(t.data)}))):null},t.pmIni=function(){return Promise.resolve()},t.pmMap=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={},o=!1,i=br();if(!io(t)&&!ao(t))return i.reject("rs is not an array or object"),i;let u=!1;if(ao(t)){u=!0;let e=[];In(t,((t,n)=>{e.push({k:n,v:t})})),t=e}let c=_o(n);return c.on("message",(function(n){if(o)return;let f,a=c.get();if(ho(e)){let t=a.key,n=a.value;u&&(t=a.value.k,n=a.value.v),f=e(n,t)}else f=a.value;f.then((t=>{r[a.key]=t})).catch((t=>{o=!0,c.clear(),i.reject(t)})).finally((()=>{c.cb(),oo(r)===oo(t)&&i.resolve(jo(r))}))})),In(t,((t,e)=>{c.push({key:e,value:t})})),i},t.pmQueue=function(){return new function(t,e){let n=null;cr(t)||(t=0),t=ur(t),At(e)||(e=!1);let r=_o(t);return r.on("message",(async function(t){let e=r.get();if(!e)return;await function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;Zn(t)||(t=10);let e=br();return setTimeout((function(){e.resolve()}),t),e}(1);let n,o=wt(e,"id"),i=wt(e,"fun"),u=wt(e,"input");n=ho(i)?await go(i)(...u):{state:"error",msg:"fun is not a function"},r.emit(o,n),r.cb()})),function(t){let o=br(),i=gr();n=i;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];let a={id:i,fun:t,input:c};return r.push(a),r.once(i,(t=>{e?i===n?"success"===t.state?o.resolve(t.msg):o.reject(t.msg):o.reject({reason:"cancelled"}):"success"===t.state?o.resolve(t.msg):o.reject(t.msg)})),o}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},t.pmSeries=function(t,e){let n=br();if(!io(t)&&!ao(t))return n.reject("rs is not an array or object"),n;let r=!1;if(ao(t)){r=!0;let e=[];In(t,((t,n)=>{e.push({k:n,v:t})})),t=e}ho(e)||(e=function(t){return t});let o=-1,i=[];return t.reduce((function(t,n){return t.then((function(t){i.push(t),o+=1;let u=o,c=n;return r&&(u=n.k,c=n.v),ho(e)?e(c,u):c}))}),Promise.resolve()).then((function(t){var e,r,o,u;i.push(t),u=null==(e=i)?0:e.length,i=u?_r(e,(r=o||void 0===r?1:Kn(r))<0?0:r,u):[],n.resolve(i)})).catch((function(t){n.reject(t)})),n},t.pmThrottle=function(){let t=u(),e=[],n=null,r=!1;return function(o){let i=br();if(!ho(o))return void console.log("func is not a function");let u=gr();for(var c=arguments.length,f=new Array(c>1?c-1:0),a=1;a<c;a++)f[a-1]=arguments[a];return e.push({id:u,func:o,input:f}),null===n&&(n=setInterval((async()=>{if(r)return;r=!0;let o=e.pop();for(let n=0;n<e.length;n++){let r=e[n].id,o={state:"cancelled"};t.emit(r,o)}if(e=[],o){let e,n=o.id;e=ho(o.func)?await go(o.func)(...o.input):{state:"error",msg:"fun is not a function"},t.emit(n,e)}r=!1,r||0!==e.length||(clearInterval(n),n=null)}),10)),t.once(u,(t=>{"success"===t.state?i.resolve(t.msg):"cancelled"===t.state?i.reject({reason:"cancelled"}):i.reject(t.msg)})),i}},t.replace=function(t,e,n){return Nn(t)&&Nn(e)&&Tn(n)?String(t).replaceAll(e,n):""},t.sep=function(t,e){if(!Nn(t))return[];if(!Nn(e))return[];let n=function(t,e){return Nn(t)&&Nn(e)?t.split(e):[]}(t,e);n=Rn(n,So);let r=[];return In(n,(function(t){Nn(t)&&r.push(t)})),r},t.strdelleft=function(t,e){return Nn(t)&&cr(e)?0===(e=ur(e))?t:fr(t,t.length-e):""},t.strdelright=sr,t.strleft=ar,t.strmid=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Nn(t)&&cr(e)?(n=vr(n)?ur(n):1,t.substring(e,e+n)):""},t.strright=fr,t.waitFun=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=br();if(!ho(t))return r.reject("waitfunction需輸入函數f"),r;let o=async()=>{let e=t();return yo(e)&&(e=await e),e};if(n=await o(),!0===n)return r.resolve(),r;let i=wt(e,"attemptNum",null);vr(i)||(i=200);let u=wt(e,"timeInterval",null);vr(u)||(u=1e3);let c=0,f=setInterval((async()=>{c+=1,n=await o(),!0===n&&(clearInterval(f),r.resolve()),c>i&&(clearInterval(f),r.reject(`exceeded attemptNum[${i}]`))}),u);return r}}));
