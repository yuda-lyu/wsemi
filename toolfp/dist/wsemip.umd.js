/*!
 * wsemip v1.7.80
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("fs"),require("path")):"function"==typeof define&&define.amd?define(["exports","fs","path"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).wsemip={},t.fs,t.path)}(this,(function(t,e,n){"use strict";function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,u){if("function"!=typeof r)throw new TypeError("The listener must be a function");var c=new o(r,i||t,u),f=n?n+e:e;return t._events[f]?t._events[f].fn?t._events[f]=[t._events[f],c]:t._events[f].push(c):(t._events[f]=c,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),c.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},c.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,u=new Array(i);o<i;o++)u[o]=r[o].fn;return u},c.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,e,r,o,i,u){var c=n?n+t:t;if(!this._events[c])return!1;var f,a,l=this._events[c],s=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,u),!0}for(a=1,f=new Array(s-1);a<s;a++)f[a-1]=arguments[a];l.fn.apply(l.context,f)}else{var p,h=l.length;for(a=0;a<h;a++)switch(l[a].once&&this.removeListener(t,l[a].fn,void 0,!0),s){case 1:l[a].fn.call(l[a].context);break;case 2:l[a].fn.call(l[a].context,e);break;case 3:l[a].fn.call(l[a].context,e,r);break;case 4:l[a].fn.call(l[a].context,e,r,o);break;default:if(!f)for(p=1,f=new Array(s-1);p<s;p++)f[p-1]=arguments[p];l[a].fn.apply(l[a].context,f)}}return!0},c.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var c=this._events[i];if(c.fn)c.fn!==e||o&&!c.once||r&&c.context!==r||u(this,i);else{for(var f=0,a=[],l=c.length;f<l;f++)(c[f].fn!==e||o&&!c[f].once||r&&c[f].context!==r)&&a.push(c[f]);a.length?this._events[i]=1===a.length?a[0]:a:u(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&u(this,e)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(o);var i=r(o.exports);function u(){return new i}function c(t){return!!e.existsSync(t)&&(!e.lstatSync(t).isFile()&&!e.lstatSync(t).isSymbolicLink())}function f(t){if(!e.existsSync(t))return{success:"folder does not exist: "+t};if(!c(t))return{error:"input path is not a folder: "+t};try{e.readdirSync(t).forEach((function(n){let r=t+"/"+n;if(e.lstatSync(r).isDirectory())f(r);else try{e.unlinkSync(r)}catch(t){}}))}catch(t){return{error:t}}try{e.rmdirSync(t)}catch(t){return{error:t}}return{success:"done: "+t}}function a(t){if(c(t))return{success:"input folder is already exists: "+t};if(e.existsSync(t))return{error:"input path already exists: "+t};try{e.mkdirSync(t,{recursive:!0})}catch(t){return{error:t}}return{success:"done: "+t}}var l=Array.isArray,s="object"==typeof global&&global&&global.Object===Object&&global,p="object"==typeof self&&self&&self.Object===Object&&self,h=s||p||Function("return this")(),v=h.Symbol,d=Object.prototype,y=d.hasOwnProperty,b=d.toString,g=v?v.toStringTag:void 0;var j=Object.prototype.toString;var _="[object Null]",m="[object Undefined]",w=v?v.toStringTag:void 0;function S(t){return null==t?void 0===t?m:_:w&&w in Object(t)?function(t){var e=y.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(t){}var o=b.call(t);return r&&(e?t[g]=n:delete t[g]),o}(t):function(t){return j.call(t)}(t)}function O(t){return null!=t&&"object"==typeof t}var x="[object Symbol]";function A(t){return"symbol"==typeof t||O(t)&&S(t)==x}var F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/;function P(t,e){if(l(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!A(t))||(k.test(t)||!F.test(t)||null!=e&&t in Object(e))}function E(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var z="[object AsyncFunction]",R="[object Function]",$="[object GeneratorFunction]",I="[object Proxy]";function C(t){if(!E(t))return!1;var e=S(t);return e==R||e==$||e==z||e==I}var T,N=h["__core-js_shared__"],L=(T=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"";var D=Function.prototype.toString;function M(t){if(null!=t){try{return D.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var B=/^\[object .+?Constructor\]$/,U=Function.prototype,W=Object.prototype,q=U.toString,G=W.hasOwnProperty,V=RegExp("^"+q.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J(t){return!(!E(t)||(e=t,L&&L in e))&&(C(t)?V:B).test(M(t));var e}function H(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return J(n)?n:void 0}var Q=H(Object,"create");var K=Object.prototype.hasOwnProperty;var X=Object.prototype.hasOwnProperty;function Y(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Z(t,e){return t===e||t!=t&&e!=e}function tt(t,e){for(var n=t.length;n--;)if(Z(t[n][0],e))return n;return-1}Y.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},Y.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Y.prototype.get=function(t){var e=this.__data__;if(Q){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return K.call(e,t)?e[t]:void 0},Y.prototype.has=function(t){var e=this.__data__;return Q?void 0!==e[t]:X.call(e,t)},Y.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Q&&void 0===e?"__lodash_hash_undefined__":e,this};var et=Array.prototype.splice;function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nt.prototype.clear=function(){this.__data__=[],this.size=0},nt.prototype.delete=function(t){var e=this.__data__,n=tt(e,t);return!(n<0)&&(n==e.length-1?e.pop():et.call(e,n,1),--this.size,!0)},nt.prototype.get=function(t){var e=this.__data__,n=tt(e,t);return n<0?void 0:e[n][1]},nt.prototype.has=function(t){return tt(this.__data__,t)>-1},nt.prototype.set=function(t,e){var n=this.__data__,r=tt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var rt=H(h,"Map");function ot(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function it(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}it.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(rt||nt),string:new Y}},it.prototype.delete=function(t){var e=ot(this,t).delete(t);return this.size-=e?1:0,e},it.prototype.get=function(t){return ot(this,t).get(t)},it.prototype.has=function(t){return ot(this,t).has(t)},it.prototype.set=function(t,e){var n=ot(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var ut="Expected a function";function ct(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(ut);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(ct.Cache||it),n}ct.Cache=it;var ft,at,lt,st=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pt=/\\(\\)?/g,ht=(ft=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(st,(function(t,n,r,o){e.push(r?o.replace(pt,"$1"):n||t)})),e},at=ct(ft,(function(t){return 500===lt.size&&lt.clear(),t})),lt=at.cache,at),vt=ht;function dt(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var yt=1/0,bt=v?v.prototype:void 0,gt=bt?bt.toString:void 0;function jt(t){if("string"==typeof t)return t;if(l(t))return dt(t,jt)+"";if(A(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-yt?"-0":e}function _t(t){return null==t?"":jt(t)}function mt(t,e){return l(t)?t:P(t,e)?[t]:vt(_t(t))}var wt=1/0;function St(t){if("string"==typeof t||A(t))return t;var e=t+"";return"0"==e&&1/t==-wt?"-0":e}function Ot(t,e){for(var n=0,r=(e=mt(e,t)).length;null!=t&&n<r;)t=t[St(e[n++])];return n&&n==r?t:void 0}function xt(t,e,n){var r=null==t?void 0:Ot(t,e);return void 0===r?n:r}var At="[object Boolean]";function Ft(t){return!0===t||!1===t||O(t)&&S(t)==At}function kt(t){return Ft(t)}function Pt(t){return!!e.existsSync(t)&&(!e.lstatSync(t).isDirectory()&&!e.lstatSync(t).isSymbolicLink())}function Et(t,r){let o=xt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"useSync","");kt(o)||(o=!0);let i="";return i=o?function(t,r){if(!c(t))return{error:`fpSrc[${t}] is not a folder`};try{e.readdirSync(t).forEach((function(o){let i=t+"/"+o,u=r+"/"+o,c=e.lstatSync(i);if(c.isDirectory())a(u),Et(i,u);else if(c.isSymbolicLink()){let t=e.readlinkSync(i);e.symlinkSync(t,u)}else a(n.dirname(u)),e.copyFileSync(i,u)}))}catch(t){return{error:t}}return{success:"done: "+r}}(t,r):async function(t,r){if(!c(t))return{error:`fpSrc[${t}] is not a folder`};let o=async(t,r)=>{let i=e.readdirSync(t);for(let u of i){let i=n.join(t,u),c=n.join(r,u),f=e.lstatSync(i);if(f.isDirectory())a(c),await o(i,c);else if(f.isSymbolicLink()){let t=e.readlinkSync(i);e.symlinkSync(t,c)}else a(n.dirname(c)),await new Promise(((t,n)=>{let r=e.createReadStream(i),o=e.createWriteStream(c);r.on("error",n),o.on("error",n),o.on("finish",t),r.pipe(o)}))}},i=null;return await o(t,r).then((()=>{i={success:"done: "+r}})).catch((t=>{i={error:t}})),i}(t,r),i}function zt(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}var Rt,$t=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),u=i.length;u--;){var c=i[Rt?u:++r];if(!1===e(o[c],c,o))break}return t};function It(t){return O(t)&&"[object Arguments]"==S(t)}var Ct=Object.prototype,Tt=Ct.hasOwnProperty,Nt=Ct.propertyIsEnumerable,Lt=It(function(){return arguments}())?It:function(t){return O(t)&&Tt.call(t,"callee")&&!Nt.call(t,"callee")},Dt=Lt;var Mt="object"==typeof t&&t&&!t.nodeType&&t,Bt=Mt&&"object"==typeof module&&module&&!module.nodeType&&module,Ut=Bt&&Bt.exports===Mt?h.Buffer:void 0,Wt=(Ut?Ut.isBuffer:void 0)||function(){return!1},qt=9007199254740991,Gt=/^(?:0|[1-9]\d*)$/;function Vt(t,e){var n=typeof t;return!!(e=null==e?qt:e)&&("number"==n||"symbol"!=n&&Gt.test(t))&&t>-1&&t%1==0&&t<e}var Jt=9007199254740991;function Ht(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Jt}var Qt={};function Kt(t){return function(e){return t(e)}}Qt["[object Float32Array]"]=Qt["[object Float64Array]"]=Qt["[object Int8Array]"]=Qt["[object Int16Array]"]=Qt["[object Int32Array]"]=Qt["[object Uint8Array]"]=Qt["[object Uint8ClampedArray]"]=Qt["[object Uint16Array]"]=Qt["[object Uint32Array]"]=!0,Qt["[object Arguments]"]=Qt["[object Array]"]=Qt["[object ArrayBuffer]"]=Qt["[object Boolean]"]=Qt["[object DataView]"]=Qt["[object Date]"]=Qt["[object Error]"]=Qt["[object Function]"]=Qt["[object Map]"]=Qt["[object Number]"]=Qt["[object Object]"]=Qt["[object RegExp]"]=Qt["[object Set]"]=Qt["[object String]"]=Qt["[object WeakMap]"]=!1;var Xt="object"==typeof t&&t&&!t.nodeType&&t,Yt=Xt&&"object"==typeof module&&module&&!module.nodeType&&module,Zt=Yt&&Yt.exports===Xt&&s.process,te=function(){try{var t=Yt&&Yt.require&&Yt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),ee=te&&te.isTypedArray,ne=ee?Kt(ee):function(t){return O(t)&&Ht(t.length)&&!!Qt[S(t)]},re=Object.prototype.hasOwnProperty;function oe(t,e){var n=l(t),r=!n&&Dt(t),o=!n&&!r&&Wt(t),i=!n&&!r&&!o&&ne(t),u=n||r||o||i,c=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],f=c.length;for(var a in t)!e&&!re.call(t,a)||u&&("length"==a||o&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||Vt(a,f))||c.push(a);return c}var ie=Object.prototype;var ue=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),ce=ue,fe=Object.prototype.hasOwnProperty;function ae(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||ie))return ce(t);var e,n,r=[];for(var o in Object(t))fe.call(t,o)&&"constructor"!=o&&r.push(o);return r}function le(t){return null!=t&&Ht(t.length)&&!C(t)}function se(t){return le(t)?oe(t):ae(t)}var pe=function(t,e){return function(n,r){if(null==n)return n;if(!le(n))return t(n,r);for(var o=n.length,i=e?o:-1,u=Object(n);(e?i--:++i<o)&&!1!==r(u[i],i,u););return n}}((function(t,e){return t&&$t(t,e,se)})),he=pe;function ve(t,e){var n=[];return he(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function de(t){var e=this.__data__=new nt(t);this.size=e.size}de.prototype.clear=function(){this.__data__=new nt,this.size=0},de.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},de.prototype.get=function(t){return this.__data__.get(t)},de.prototype.has=function(t){return this.__data__.has(t)},de.prototype.set=function(t,e){var n=this.__data__;if(n instanceof nt){var r=n.__data__;if(!rt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new it(r)}return n.set(t,e),this.size=n.size,this};function ye(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new it;++e<n;)this.add(t[e])}function be(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ge(t,e){return t.has(e)}ye.prototype.add=ye.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ye.prototype.has=function(t){return this.__data__.has(t)};var je=1,_e=2;function me(t,e,n,r,o,i){var u=n&je,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var a=i.get(t),l=i.get(e);if(a&&l)return a==e&&l==t;var s=-1,p=!0,h=n&_e?new ye:void 0;for(i.set(t,e),i.set(e,t);++s<c;){var v=t[s],d=e[s];if(r)var y=u?r(d,v,s,e,t,i):r(v,d,s,t,e,i);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!be(e,(function(t,e){if(!ge(h,e)&&(v===t||o(v,t,n,r,i)))return h.push(e)}))){p=!1;break}}else if(v!==d&&!o(v,d,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p}var we=h.Uint8Array;function Se(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Oe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var xe=1,Ae=2,Fe="[object Boolean]",ke="[object Date]",Pe="[object Error]",Ee="[object Map]",ze="[object Number]",Re="[object RegExp]",$e="[object Set]",Ie="[object String]",Ce="[object Symbol]",Te="[object ArrayBuffer]",Ne="[object DataView]",Le=v?v.prototype:void 0,De=Le?Le.valueOf:void 0;var Me=Object.prototype.propertyIsEnumerable,Be=Object.getOwnPropertySymbols,Ue=Be?function(t){return null==t?[]:(t=Object(t),zt(Be(t),(function(e){return Me.call(t,e)})))}:function(){return[]};function We(t){return function(t,e,n){var r=e(t);return l(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,se,Ue)}var qe=1,Ge=Object.prototype.hasOwnProperty;var Ve=H(h,"DataView"),Je=H(h,"Promise"),He=H(h,"Set"),Qe=H(h,"WeakMap"),Ke="[object Map]",Xe="[object Promise]",Ye="[object Set]",Ze="[object WeakMap]",tn="[object DataView]",en=M(Ve),nn=M(rt),rn=M(Je),on=M(He),un=M(Qe),cn=S;(Ve&&cn(new Ve(new ArrayBuffer(1)))!=tn||rt&&cn(new rt)!=Ke||Je&&cn(Je.resolve())!=Xe||He&&cn(new He)!=Ye||Qe&&cn(new Qe)!=Ze)&&(cn=function(t){var e=S(t),n="[object Object]"==e?t.constructor:void 0,r=n?M(n):"";if(r)switch(r){case en:return tn;case nn:return Ke;case rn:return Xe;case on:return Ye;case un:return Ze}return e});var fn=cn,an=1,ln="[object Arguments]",sn="[object Array]",pn="[object Object]",hn=Object.prototype.hasOwnProperty;function vn(t,e,n,r,o,i){var u=l(t),c=l(e),f=u?sn:fn(t),a=c?sn:fn(e),s=(f=f==ln?pn:f)==pn,p=(a=a==ln?pn:a)==pn,h=f==a;if(h&&Wt(t)){if(!Wt(e))return!1;u=!0,s=!1}if(h&&!s)return i||(i=new de),u||ne(t)?me(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case Ne:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Te:return!(t.byteLength!=e.byteLength||!i(new we(t),new we(e)));case Fe:case ke:case ze:return Z(+t,+e);case Pe:return t.name==e.name&&t.message==e.message;case Re:case Ie:return t==e+"";case Ee:var c=Se;case $e:var f=r&xe;if(c||(c=Oe),t.size!=e.size&&!f)return!1;var a=u.get(t);if(a)return a==e;r|=Ae,u.set(t,e);var l=me(c(t),c(e),r,o,i,u);return u.delete(t),l;case Ce:if(De)return De.call(t)==De.call(e)}return!1}(t,e,f,n,r,o,i);if(!(n&an)){var v=s&&hn.call(t,"__wrapped__"),d=p&&hn.call(e,"__wrapped__");if(v||d){var y=v?t.value():t,b=d?e.value():e;return i||(i=new de),o(y,b,n,r,i)}}return!!h&&(i||(i=new de),function(t,e,n,r,o,i){var u=n&qe,c=We(t),f=c.length;if(f!=We(e).length&&!u)return!1;for(var a=f;a--;){var l=c[a];if(!(u?l in e:Ge.call(e,l)))return!1}var s=i.get(t),p=i.get(e);if(s&&p)return s==e&&p==t;var h=!0;i.set(t,e),i.set(e,t);for(var v=u;++a<f;){var d=t[l=c[a]],y=e[l];if(r)var b=u?r(y,d,l,e,t,i):r(d,y,l,t,e,i);if(!(void 0===b?d===y||o(d,y,n,r,i):b)){h=!1;break}v||(v="constructor"==l)}if(h&&!v){var g=t.constructor,j=e.constructor;g==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,n,r,o,i))}function dn(t,e,n,r,o){return t===e||(null==t||null==e||!O(t)&&!O(e)?t!=t&&e!=e:vn(t,e,n,r,dn,o))}var yn=1,bn=2;function gn(t){return t==t&&!E(t)}function jn(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function _n(t){var e=function(t){for(var e=se(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,gn(o)]}return e}(t);return 1==e.length&&e[0][2]?jn(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var c=n[o];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<i;){var f=(c=n[o])[0],a=t[f],l=c[1];if(u&&c[2]){if(void 0===a&&!(f in t))return!1}else{var s=new de;if(r)var p=r(a,l,f,t,e,s);if(!(void 0===p?dn(l,a,yn|bn,r,s):p))return!1}}return!0}(n,t,e)}}function mn(t,e){return null!=t&&e in Object(t)}function wn(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=mt(e,t)).length,i=!1;++r<o;){var u=St(e[r]);if(!(i=null!=t&&n(t,u)))break;t=t[u]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Ht(o)&&Vt(u,o)&&(l(t)||Dt(t))}(t,e,mn)}var Sn=1,On=2;function xn(t){return t}function An(t){return function(e){return null==e?void 0:e[t]}}function Fn(t){return P(t)?An(St(t)):function(t){return function(e){return Ot(e,t)}}(t)}function kn(t){return"function"==typeof t?t:null==t?xn:"object"==typeof t?l(t)?function(t,e){return P(t)&&gn(e)?jn(St(t),e):function(n){var r=xt(n,t);return void 0===r&&r===e?wn(n,t):dn(e,r,Sn|On)}}(t[0],t[1]):_n(t):Fn(t)}function Pn(t,e){return(l(t)?zt:ve)(t,kn(e))}function En(t,e){var n=-1,r=le(t)?Array(t.length):[];return he(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}function zn(t,e){return(l(t)?dt:En)(t,kn(e))}function Rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function $n(t,e){var n;return(l(t)?Rn:he)(t,"function"==typeof(n=e)?n:xn)}function In(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=1;if(!c(t))throw new Error(`fd[${t}] is not a folder`);return function t(i){let u=[];return c(i)?($n(e.readdirSync(i),(function(c){let f=n.resolve(i,c),a=null;try{a=e.statSync(f)}catch(t){}a&&a.isDirectory()?(u.push({isFolder:!0,level:o,path:f,name:n.basename(f)}),o+=1,(o<=r||null===r)&&(u=u.concat(t(f))),o-=1):u.push({isFolder:!1,level:o,path:f,name:n.basename(f)})})),u):u}(t)}var Cn=/\s/;var Tn=/^\s+/;function Nn(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Cn.test(t.charAt(e)););return e}(t)+1).replace(Tn,""):t}var Ln=NaN,Dn=/^[-+]0x[0-9a-f]+$/i,Mn=/^0b[01]+$/i,Bn=/^0o[0-7]+$/i,Un=parseInt;function Wn(t){if("number"==typeof t)return t;if(A(t))return Ln;if(E(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=E(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Nn(t);var n=Mn.test(t);return n||Bn.test(t)?Un(t.slice(2),n?2:8):Dn.test(t)?Ln:+t}var qn=1/0,Gn=17976931348623157e292;function Vn(t){return t?(t=Wn(t))===qn||t===-qn?(t<0?-1:1)*Gn:t==t?t:0:0===t?t:0}function Jn(t){var e=Vn(t),n=e%1;return e==e?n?e-n:e:0}function Hn(t){return"[object String]"===Object.prototype.toString.call(t)}function Qn(t){return!(!Hn(t)||""===t)}function Kn(t){return"[object Number]"===Object.prototype.toString.call(t)}function Xn(t){return t!=t}function Yn(t){let e=!1;if(Qn(t))e=!isNaN(Number(t));else if(Kn(t)){if(Xn(t))return!1;e=!0}return e}function Zn(t){if(!Yn(t))return 0;return Vn(t)}function tr(t){return!!Yn(t)&&(t=Zn(t),"number"==typeof(e=t)&&e==Jn(e));var e}var er=h.isFinite,nr=Math.min;var rr=function(t){var e=Math[t];return function(t,n){if(t=Wn(t),(n=null==n?0:nr(Jn(n),292))&&er(t)){var r=(_t(t)+"e").split("e");return+((r=(_t(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}("round"),or=rr;function ir(t){if(!Yn(t))return 0;t=Zn(t);let e=or(t);return"0"===String(e)?0:e}function ur(t){if(!tr(t))return!1;return ir(t)>0}let cr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),fr=cr.length;function ar(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];t=ur(t)?ir(t):32;for(let n=0;n<t;n++)e[n]=cr[0|Math.random()*fr];return e.join("")}function lr(){let t,e,n=new Promise((function(){t=arguments[0],e=arguments[1]}));return n.resolve=t,n.reject=e,n}function sr(t){if(!tr(t))return!1;return ir(t)>=0}function pr(t,e){if(!Qn(t))return"";if(!sr(e))return"";if(0===(e=ir(e)))return"";let n=t.length-e;return n<0&&(n=0),t.substring(n,n+e)}function hr(t,e){return Qn(t)&&sr(e)?0===(e=ir(e))?"":t.substring(0,e):""}function vr(t,e){return Qn(t)&&sr(e)?0===(e=ir(e))?t:hr(t,t.length-e):""}function dr(t){if(!Qn(t))return{path:"",isRoot:!1};for(;t.indexOf("\\\\")>=0;)t=t.replace("\\\\","\\");for(;t.indexOf("//")>=0;)t=t.replace("//","/");if(":"===pr(t,1))return{path:`${t}\\`,isRoot:!0};if("\\"===pr(t,1)){let e=vr(t,1);return":"===pr(e,1)?{path:t,isRoot:!0}:{path:e,isRoot:!1}}if("/"===pr(t,1)){let e=vr(t,1);return 0===e.length?{path:t,isRoot:!0}:{path:e,isRoot:!1}}return{path:t,isRoot:!1}}function yr(t){if(!Qn(t))return"";let e=dr(t);if(e.isRoot)return e.path;let n=e.path;try{n=n.split("\\").pop().split("/").pop()}catch(t){}return n}var br=Array.prototype.join;function gr(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function jr(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:gr(t,e,n)}var _r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function mr(t){return _r.test(t)}var wr=te&&te.isRegExp,Sr=wr?Kt(wr):function(t){return O(t)&&"[object RegExp]"==S(t)};var Or="\\ud800-\\udfff",xr="["+Or+"]",Ar="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Fr="\\ud83c[\\udffb-\\udfff]",kr="[^"+Or+"]",Pr="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",zr="(?:"+Ar+"|"+Fr+")"+"?",Rr="[\\ufe0e\\ufe0f]?",$r=Rr+zr+("(?:\\u200d(?:"+[kr,Pr,Er].join("|")+")"+Rr+zr+")*"),Ir="(?:"+[kr+Ar+"?",Ar,Pr,Er,xr].join("|")+")",Cr=RegExp(Fr+"(?="+Fr+")|"+Ir+$r,"g");function Tr(t){return mr(t)?function(t){return t.match(Cr)||[]}(t):function(t){return t.split("")}(t)}var Nr=4294967295;function Lr(t,e,n){return n&&"number"!=typeof n&&function(t,e,n){if(!E(n))return!1;var r=typeof e;return!!("number"==r?le(n)&&Vt(e,n.length):"string"==r&&e in n)&&Z(n[e],t)}(t,e,n)&&(e=n=void 0),(n=void 0===n?Nr:n>>>0)?(t=_t(t))&&("string"==typeof e||null!=e&&!Sr(e))&&!(e=jt(e))&&mr(t)?jr(Tr(t),0,n):t.split(e,n):[]}var Dr="[object String]";var Mr=An("length"),Br="\\ud800-\\udfff",Ur="["+Br+"]",Wr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",qr="\\ud83c[\\udffb-\\udfff]",Gr="[^"+Br+"]",Vr="(?:\\ud83c[\\udde6-\\uddff]){2}",Jr="[\\ud800-\\udbff][\\udc00-\\udfff]",Hr="(?:"+Wr+"|"+qr+")"+"?",Qr="[\\ufe0e\\ufe0f]?",Kr=Qr+Hr+("(?:\\u200d(?:"+[Gr,Vr,Jr].join("|")+")"+Qr+Hr+")*"),Xr="(?:"+[Gr+Wr+"?",Wr,Vr,Jr,Ur].join("|")+")",Yr=RegExp(qr+"(?="+qr+")|"+Xr+Kr,"g");function Zr(t){return mr(t)?function(t){for(var e=Yr.lastIndex=0;Yr.test(t);)++e;return e}(t):Mr(t)}var to="[object Map]",eo="[object Set]";function no(t){if(null==t)return 0;if(le(t))return"string"==typeof(e=t)||!l(e)&&O(e)&&S(e)==Dr?Zr(t):t.length;var e,n=fn(t);return n==to||n==eo?t.size:ae(t).length}function ro(t){return"[object Array]"===Object.prototype.toString.call(t)}function oo(t){return!!ro(t)&&0===t.length}function io(t){return"[object Undefined]"===Object.prototype.toString.call(t)}function uo(t){return"[object Null]"===Object.prototype.toString.call(t)}function co(t){return"[object Object]"===Object.prototype.toString.call(t)}function fo(t){if(co(t)){for(let e in t)return!1;return!0}return!1}function ao(t){return!(!Hn(t)||""!==t)}function lo(t){return!!io(t)||(!!uo(t)||(!!fo(t)||(!!ao(t)||(!!oo(t)||!!Xn(t)))))}function so(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function po(t){if(!tr(t))return!1;return ir(t)<0}function ho(t){let e,n=Object.prototype.toString.call(t);if(e="[object Promise]"===n,e)return!0;if("[object Function]"!==n)return!1;try{e="function"!=typeof t.subscribe&&"function"==typeof t.then}catch(t){}return e}let vo=function(t){if(!so(t))throw new Error("fn is not a function");return function(){let e=lr(),n=null,r=null;try{n=t.apply(this,arguments)}catch(t){r=t}return null!==r?e.resolve({state:"error",msg:r}):ho(n)?n.then((t=>{e.resolve({state:"success",msg:t})})).catch((t=>{"cancelled"===xt(t,"reason")?e.resolve({state:"cancelled",msg:""}):e.resolve({state:"error",msg:t})})):e.resolve({state:"success",msg:n}),e}};function yo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(!so(t))return null;function n(t,e){let n;return uo(t)||io(t)?e:(n=xt(t,"data",null),n||t)}return so(e)||(e=()=>{}),function(){let r,o=lr(),i=e({mode:"before",data:arguments});return(uo(i)||io(i))&&(i=arguments),t(...i).then((t=>{r=e({mode:"afterThen",data:t}),t=n(r,t),o.resolve(t)})).catch((t=>{r=e({mode:"afterCatch",data:t}),t=n(r,t),o.reject(t)})),o}}function bo(t){return null==t?[]:function(t,e){return dt(e,(function(e){return t[e]}))}(t,se(t))}function go(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=0,n=[];po(t)&&(t=0),t=ir(t);let r=u();return r.get=function(){if(n.length>0){return e+=1,n.splice(0,1)[0]}return null},r.cb=function(){e-=1,e<0&&(e=0),n.length>0&&r.emit("message",n)},r.push=function(o){n.push(o),(t<=0||e<t)&&r.emit("message",n)},r.clear=function(){e=0,n=[]},r}function jo(t){return t!=t}function _o(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,jo,n)}function mo(t,e,n){if((t=_t(t))&&(n||void 0===e))return Nn(t);if(!t||!(e=jt(e)))return t;var r=Tr(t),o=Tr(e),i=function(t,e){for(var n=-1,r=t.length;++n<r&&_o(e,t[n],0)>-1;);return n}(r,o),u=function(t,e){for(var n=t.length;n--&&_o(e,t[n],0)>-1;);return n}(r,o)+1;return jr(r,i,u).join("")}t.evem=u,t.fsCleanFolder=function(t){if(!e.existsSync(t)){let e=a(t);return e.error?e.error:{success:"done: "+t}}if(!c(t))return{error:"input path is not a folder"};try{e.readdirSync(t).forEach((function(n){let r=t+"/"+n;if(e.lstatSync(r).isDirectory())f(r);else try{e.unlinkSync(r)}catch(t){}}))}catch(t){return{error:t}}return{success:"done: "+t}},t.fsCopyFile=function(t,r){let o=xt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"useSync","");kt(o)||(o=!0);let i="";return i=o?function(t,r){if(!Pt(t))return{error:`fpSrc[${t}] is not a file`};try{a(n.dirname(r)),e.copyFileSync(t,r)}catch(t){return{error:t}}return{success:"done: "+r}}(t,r):async function(t,r){if(!Pt(t))return{error:`fpSrc[${t}] is not a file`};let o=null;return await(async(t,r)=>{a(n.dirname(r)),await new Promise(((n,o)=>{let i=e.createReadStream(t),u=e.createWriteStream(r);i.on("error",o),u.on("error",o),u.on("finish",n),i.pipe(u)}))})(t,r).then((()=>{o={success:"done: "+r}})).catch((t=>{o={error:t}})),o}(t,r),i},t.fsCopyFolder=Et,t.fsCreateFolder=a,t.fsDeleteFolder=f,t.fsGetFilesInFolder=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!c(t))throw new Error(`fd[${t}] is not a folder`);let n=[];return n=In(t,e),n=Pn(n,{isFolder:!1}),n=zn(n,(t=>(delete t.isFolder,t))),n},t.fsGetFoldersInFolder=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!c(t))throw new Error(`fd[${t}] is not a folder`);let n=[];return n=In(t,e),n=Pn(n,{isFolder:!0}),n=zn(n,(t=>(delete t.isFolder,t))),n},t.fsIsFile=Pt,t.fsIsFolder=c,t.fsReadText=function(t){return e.readFileSync(t,"utf8")},t.fsTreeFolder=In,t.fsWriteText=function(t,n){e.writeFileSync(t,n,"utf8")},t.genID=ar,t.genPm=lr,t.getClearPathName=dr,t.getFileName=yr,t.getFileTrueName=function(t){if(!Qn(t))return"";let e=yr(t),n=Lr(e,".");if(no(n)<=1)return e;let r="";try{n=(c=null==(o=n)?0:o.length)?gr(o,0,(i=c-(i=u||void 0===i?1:Jn(i)))<0?0:i):[],r=function(t,e){return null==t?"":br.call(t,e)}(n,".")}catch(t){}var o,i,u,c;return r},t.getGlobal=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window&&void 0!==window.document?window:"undefined"!=typeof global?global:null},t.getPathParent=function(t){if(!Qn(t))return"";let e=dr(t);if(e.isRoot)return e.path;let n=yr(t=e.path);if(!Qn(n))return t;let r=dr(t=vr(t,n.length));return r.isRoot,r.path},t.isEmail=function(t){return!!Qn(t)&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)},t.isIE=function(){return null!==navigator.userAgent.toLowerCase().match(/rv:([\d.]+)\) like gecko/)},t.isab=function(t){return"[object ArrayBuffer]"===Object.prototype.toString.call(t)},t.isarr=ro,t.isarr0=oo,t.isblob=function(t){return"[object Blob]"===Object.prototype.toString.call(t)},t.isbol=kt,t.isearr=function(t){return!!ro(t)&&(0!==t.length&&(1!==t.length||!lo(t[0])))},t.iseobj=function(t){if(co(t)){for(let e in t)return!0;return!1}return!1},t.iser=lo,t.isernot=function(t){return!lo(t)},t.isestr=Qn,t.isfun=so,t.isint=tr,t.isn0int=function(t){return!!tr(t)&&ir(t)<=0},t.isn0num=function(t){return!!Yn(t)&&Zn(t)<=0},t.isnbr=Kn,t.isnint=po,t.isnull=uo,t.isnum=Yn,t.isobj=co,t.isobj0=fo,t.isp0int=sr,t.isp0num=function(t){return!!Yn(t)&&Zn(t)>=0},t.ispint=ur,t.ispm=ho,t.isstr=Hn,t.isstr0=ao,t.isundefined=io,t.j2o=function(t){if(!Qn(t))return{};let e={};try{e=JSON.parse(t)}catch(t){e={}}return e},t.o2j=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(io(t))return"";let n="";try{n=e?JSON.stringify(t,null,2):JSON.stringify(t)}catch(t){n=""}return n},t.pm2resolve=vo,t.pmChain=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!ro(t)){let t=lr();return t.reject("pms is not an array"),t}return t.reduce(((t,e)=>t.then(e)),Promise.resolve(e))},t.pmHook=yo,t.pmHookReject=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return so(t)?(so(e)||(e=()=>{}),yo(t,(t=>{if("afterCatch"===t.mode)return e(t.data)}))):null},t.pmIni=function(){return Promise.resolve()},t.pmMap=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={},o=!1,i=lr();if(!ro(t)&&!co(t))return i.reject("rs is not an array or object"),i;let u=!1;if(co(t)){u=!0;let e=[];$n(t,((t,n)=>{e.push({k:n,v:t})})),t=e}let c=go(n);return c.on("message",(function(n){if(o)return;let f,a=c.get();if(so(e)){let t=a.key,n=a.value;u&&(t=a.value.k,n=a.value.v),f=e(n,t)}else f=a.value;f.then((t=>{r[a.key]=t})).catch((t=>{o=!0,c.clear(),i.reject(t)})).finally((()=>{c.cb(),no(r)===no(t)&&i.resolve(bo(r))}))})),$n(t,((t,e)=>{c.push({key:e,value:t})})),i},t.pmQueue=function(){return new function(t,e){let n=null;sr(t)||(t=0),t=ir(t),Ft(e)||(e=!1);let r=go(t);return r.on("message",(async function(t){let e=r.get();if(!e)return;await function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;Yn(t)||(t=10);let e=lr();return setTimeout((function(){e.resolve()}),t),e}(1);let n,o=xt(e,"id"),i=xt(e,"fun"),u=xt(e,"input");n=so(i)?await vo(i)(...u):{state:"error",msg:"fun is not a function"},r.emit(o,n),r.cb()})),function(t){let o=lr(),i=ar();n=i;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];let a={id:i,fun:t,input:c};return r.push(a),r.once(i,(t=>{e?i===n?"success"===t.state?o.resolve(t.msg):o.reject(t.msg):o.reject({reason:"cancelled"}):"success"===t.state?o.resolve(t.msg):o.reject(t.msg)})),o}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},t.pmSeries=function(t,e){let n=lr();if(!ro(t)&&!co(t))return n.reject("rs is not an array or object"),n;let r=!1;if(co(t)){r=!0;let e=[];$n(t,((t,n)=>{e.push({k:n,v:t})})),t=e}so(e)||(e=function(t){return t});let o=-1,i=[];return t.reduce((function(t,n){return t.then((function(t){i.push(t),o+=1;let u=o,c=n;return r&&(u=n.k,c=n.v),so(e)?e(c,u):c}))}),Promise.resolve()).then((function(t){var e,r,o,u;i.push(t),u=null==(e=i)?0:e.length,i=u?gr(e,(r=o||void 0===r?1:Jn(r))<0?0:r,u):[],n.resolve(i)})).catch((function(t){n.reject(t)})),n},t.pmThrottle=function(){let t=u(),e=[],n=null,r=!1;return function(o){let i=lr();if(!so(o))return void console.log("func is not a function");let u=ar();for(var c=arguments.length,f=new Array(c>1?c-1:0),a=1;a<c;a++)f[a-1]=arguments[a];return e.push({id:u,func:o,input:f}),null===n&&(n=setInterval((async()=>{if(r)return;r=!0;let o=e.pop();for(let n=0;n<e.length;n++){let r=e[n].id,o={state:"cancelled"};t.emit(r,o)}if(e=[],o){let e,n=o.id;e=so(o.func)?await vo(o.func)(...o.input):{state:"error",msg:"fun is not a function"},t.emit(n,e)}r=!1,r||0!==e.length||(clearInterval(n),n=null)}),10)),t.once(u,(t=>{"success"===t.state?i.resolve(t.msg):"cancelled"===t.state?i.reject({reason:"cancelled"}):i.reject(t.msg)})),i}},t.replace=function(t,e,n){return Qn(t)&&Qn(e)&&Hn(n)?String(t).replaceAll(e,n):""},t.sep=function(t,e){if(!Qn(t))return[];if(!Qn(e))return[];let n=function(t,e){return Qn(t)&&Qn(e)?t.split(e):[]}(t,e);n=zn(n,mo);let r=[];return $n(n,(function(t){Qn(t)&&r.push(t)})),r},t.strdelleft=function(t,e){return Qn(t)&&sr(e)?0===(e=ir(e))?t:pr(t,t.length-e):""},t.strdelright=vr,t.strleft=hr,t.strmid=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Qn(t)&&sr(e)?(n=ur(n)?ir(n):1,t.substring(e,e+n)):""},t.strright=pr,t.waitFun=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=lr();if(!so(t))return r.reject("waitfunction需輸入函數f"),r;let o=async()=>{let e=t();return ho(e)&&(e=await e),e};if(n=await o(),!0===n)return r.resolve(),r;let i=xt(e,"attemptNum",null);ur(i)||(i=200);let u=xt(e,"timeInterval",null);ur(u)||(u=1e3);let c=0,f=setInterval((async()=>{c+=1,n=await o(),!0===n&&(clearInterval(f),r.resolve()),c>i&&(clearInterval(f),r.reject(`exceeded attemptNum[${i}]`))}),u);return r}}));
