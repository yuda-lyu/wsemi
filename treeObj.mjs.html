<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>treeObj.mjs - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="wsemi.html">wsemi</a><ul class='methods'><li data-type='method'><a href="wsemi.html#.ab2blob">ab2blob</a></li><li data-type='method'><a href="wsemi.html#.ab2u8arr">ab2u8arr</a></li><li data-type='method'><a href="wsemi.html#.addMonth">addMonth</a></li><li data-type='method'><a href="wsemi.html#.aes2str">aes2str</a></li><li data-type='method'><a href="wsemi.html#.alive">alive</a></li><li data-type='method'><a href="wsemi.html#.arr2dt">arr2dt</a></li><li data-type='method'><a href="wsemi.html#.arraccum">arraccum</a></li><li data-type='method'><a href="wsemi.html#.arradd">arradd</a></li><li data-type='method'><a href="wsemi.html#.arrat">arrat</a></li><li data-type='method'><a href="wsemi.html#.arrfilter">arrfilter</a></li><li data-type='method'><a href="wsemi.html#.arrfind">arrfind</a></li><li data-type='method'><a href="wsemi.html#.arrhas">arrhas</a></li><li data-type='method'><a href="wsemi.html#.arrsort">arrsort</a></li><li data-type='method'><a href="wsemi.html#.b642obj">b642obj</a></li><li data-type='method'><a href="wsemi.html#.b642str">b642str</a></li><li data-type='method'><a href="wsemi.html#.b642u8arr">b642u8arr</a></li><li data-type='method'><a href="wsemi.html#.b642u16arr">b642u16arr</a></li><li data-type='method'><a href="wsemi.html#.binstr">binstr</a></li><li data-type='method'><a href="wsemi.html#.blob2ab">blob2ab</a></li><li data-type='method'><a href="wsemi.html#.blob2b64">blob2b64</a></li><li data-type='method'><a href="wsemi.html#.blob2str">blob2str</a></li><li data-type='method'><a href="wsemi.html#.blob2u8arr">blob2u8arr</a></li><li data-type='method'><a href="wsemi.html#.blobs2b64s">blobs2b64s</a></li><li data-type='method'><a href="wsemi.html#.blobs2u8arrs">blobs2u8arrs</a></li><li data-type='method'><a href="wsemi.html#.bodyLog">bodyLog</a></li><li data-type='method'><a href="wsemi.html#.browserView">browserView</a></li><li data-type='method'><a href="wsemi.html#.browserViewFromBlob">browserViewFromBlob</a></li><li data-type='method'><a href="wsemi.html#.browserViewFromText">browserViewFromText</a></li><li data-type='method'><a href="wsemi.html#.browserViewFromU8arr">browserViewFromU8arr</a></li><li data-type='method'><a href="wsemi.html#.bs2u8arr">bs2u8arr</a></li><li data-type='method'><a href="wsemi.html#.bufRead">bufRead</a></li><li data-type='method'><a href="wsemi.html#.bufReadDbl">bufReadDbl</a></li><li data-type='method'><a href="wsemi.html#.bufWrite">bufWrite</a></li><li data-type='method'><a href="wsemi.html#.bufWriteDbl">bufWriteDbl</a></li><li data-type='method'><a href="wsemi.html#.cache">cache</a></li><li data-type='method'><a href="wsemi.html#.cbol">cbol</a></li><li data-type='method'><a href="wsemi.html#.cdbl">cdbl</a></li><li data-type='method'><a href="wsemi.html#.cfilesize">cfilesize</a></li><li data-type='method'><a href="wsemi.html#.cfinancial">cfinancial</a></li><li data-type='method'><a href="wsemi.html#.cint">cint</a></li><li data-type='method'><a href="wsemi.html#.clearXSS">clearXSS</a></li><li data-type='method'><a href="wsemi.html#.copyStrToClipboard">copyStrToClipboard</a></li><li data-type='method'><a href="wsemi.html#.cstr">cstr</a></li><li data-type='method'><a href="wsemi.html#.day2cht">day2cht</a></li><li data-type='method'><a href="wsemi.html#.debounce">debounce</a></li><li data-type='method'><a href="wsemi.html#.delay">delay</a></li><li data-type='method'><a href="wsemi.html#.dig">dig</a></li><li data-type='method'><a href="wsemi.html#.digExp">digExp</a></li><li data-type='method'><a href="wsemi.html#.domAlert">domAlert</a></li><li data-type='method'><a href="wsemi.html#.domAppend">domAppend</a></li><li data-type='method'><a href="wsemi.html#.domCancelEvent">domCancelEvent</a></li><li data-type='method'><a href="wsemi.html#.domDetect">domDetect</a></li><li data-type='method'><a href="wsemi.html#.domDrag">domDrag</a></li><li data-type='method'><a href="wsemi.html#.domDragBarAndScroll">domDragBarAndScroll</a></li><li data-type='method'><a href="wsemi.html#.domDropFiles">domDropFiles</a></li><li data-type='method'><a href="wsemi.html#.domFadeIn">domFadeIn</a></li><li data-type='method'><a href="wsemi.html#.domFadeOut">domFadeOut</a></li><li data-type='method'><a href="wsemi.html#.domFind">domFind</a></li><li data-type='method'><a href="wsemi.html#.domFinds">domFinds</a></li><li data-type='method'><a href="wsemi.html#.domGetFileAccept">domGetFileAccept</a></li><li data-type='method'><a href="wsemi.html#.domGetFiles">domGetFiles</a></li><li data-type='method'><a href="wsemi.html#.domGetPointFromEvent">domGetPointFromEvent</a></li><li data-type='method'><a href="wsemi.html#.domGetScrollableParent">domGetScrollableParent</a></li><li data-type='method'><a href="wsemi.html#.domIsClientXYIn">domIsClientXYIn</a></li><li data-type='method'><a href="wsemi.html#.domIsFocused">domIsFocused</a></li><li data-type='method'><a href="wsemi.html#.domIsVisible">domIsVisible</a></li><li data-type='method'><a href="wsemi.html#.domRemove">domRemove</a></li><li data-type='method'><a href="wsemi.html#.domScrollIntoView">domScrollIntoView</a></li><li data-type='method'><a href="wsemi.html#.domScrollTo">domScrollTo</a></li><li data-type='method'><a href="wsemi.html#.domShowImages">domShowImages</a></li><li data-type='method'><a href="wsemi.html#.domShowImagesDyn">domShowImagesDyn</a></li><li data-type='method'><a href="wsemi.html#.domShowInputAndGetFiles">domShowInputAndGetFiles</a></li><li data-type='method'><a href="wsemi.html#.domShowInputAndGetFilesU8Arrs">domShowInputAndGetFilesU8Arrs</a></li><li data-type='method'><a href="wsemi.html#.domTooltip">domTooltip</a></li><li data-type='method'><a href="wsemi.html#.domTriggerEvent">domTriggerEvent</a></li><li data-type='method'><a href="wsemi.html#.downloadExcelFileFromData">downloadExcelFileFromData</a></li><li data-type='method'><a href="wsemi.html#.downloadExcelFileFromDataDyn">downloadExcelFileFromDataDyn</a></li><li data-type='method'><a href="wsemi.html#.downloadFileFromB64">downloadFileFromB64</a></li><li data-type='method'><a href="wsemi.html#.downloadFileFromBlob">downloadFileFromBlob</a></li><li data-type='method'><a href="wsemi.html#.downloadFileFromText">downloadFileFromText</a></li><li data-type='method'><a href="wsemi.html#.downloadFileFromU8Arr">downloadFileFromU8Arr</a></li><li data-type='method'><a href="wsemi.html#.dtmapping">dtmapping</a></li><li data-type='method'><a href="wsemi.html#.dtpick">dtpick</a></li><li data-type='method'><a href="wsemi.html#.evem">evem</a></li><li data-type='method'><a href="wsemi.html#.execScript">execScript</a></li><li data-type='method'><a href="wsemi.html#.f2c">f2c</a></li><li data-type='method'><a href="wsemi.html#.files2data">files2data</a></li><li data-type='method'><a href="wsemi.html#.fsCleanFolder">fsCleanFolder</a></li><li data-type='method'><a href="wsemi.html#.fsCopyFolder">fsCopyFolder</a></li><li data-type='method'><a href="wsemi.html#.fsCreateFolder">fsCreateFolder</a></li><li data-type='method'><a href="wsemi.html#.fsDeleteFolder">fsDeleteFolder</a></li><li data-type='method'><a href="wsemi.html#.fsGetFilesInFolder">fsGetFilesInFolder</a></li><li data-type='method'><a href="wsemi.html#.fsGetFoldersInFolder">fsGetFoldersInFolder</a></li><li data-type='method'><a href="wsemi.html#.fsIsFile">fsIsFile</a></li><li data-type='method'><a href="wsemi.html#.fsIsFolder">fsIsFolder</a></li><li data-type='method'><a href="wsemi.html#.fsReadText">fsReadText</a></li><li data-type='method'><a href="wsemi.html#.fsTreeFolder">fsTreeFolder</a></li><li data-type='method'><a href="wsemi.html#.fsWriteText">fsWriteText</a></li><li data-type='method'><a href="wsemi.html#.genGradientColor">genGradientColor</a></li><li data-type='method'><a href="wsemi.html#.genID">genID</a></li><li data-type='method'><a href="wsemi.html#.genPm">genPm</a></li><li data-type='method'><a href="wsemi.html#.getBufferSize">getBufferSize</a></li><li data-type='method'><a href="wsemi.html#.getClearPathName">getClearPathName</a></li><li data-type='method'><a href="wsemi.html#.getCsvStrFromData">getCsvStrFromData</a></li><li data-type='method'><a href="wsemi.html#.getDataFromExcelFileU8Arr">getDataFromExcelFileU8Arr</a></li><li data-type='method'><a href="wsemi.html#.getDataFromExcelFileU8ArrDyn">getDataFromExcelFileU8ArrDyn</a></li><li data-type='method'><a href="wsemi.html#.getDirName">getDirName</a></li><li data-type='method'><a href="wsemi.html#.getEnv">getEnv</a></li><li data-type='method'><a href="wsemi.html#.getExcelU8ArrFromData">getExcelU8ArrFromData</a></li><li data-type='method'><a href="wsemi.html#.getExcelWorkbookFromData">getExcelWorkbookFromData</a></li><li data-type='method'><a href="wsemi.html#.getFileAccept">getFileAccept</a></li><li data-type='method'><a href="wsemi.html#.getFileName">getFileName</a></li><li data-type='method'><a href="wsemi.html#.getFileTrueName">getFileTrueName</a></li><li data-type='method'><a href="wsemi.html#.getGlobal">getGlobal</a></li><li data-type='method'><a href="wsemi.html#.getltdtkeys">getltdtkeys</a></li><li data-type='method'><a href="wsemi.html#.getObjSize">getObjSize</a></li><li data-type='method'><a href="wsemi.html#.getTimeBetween">getTimeBetween</a></li><li data-type='method'><a href="wsemi.html#.getTimeFromUnit">getTimeFromUnit</a></li><li data-type='method'><a href="wsemi.html#.getTimeObject">getTimeObject</a></li><li data-type='method'><a href="wsemi.html#.getTimeRange">getTimeRange</a></li><li data-type='method'><a href="wsemi.html#.getUserAgent">getUserAgent</a></li><li data-type='method'><a href="wsemi.html#.getUserAgentDyn">getUserAgentDyn</a></li><li data-type='method'><a href="wsemi.html#.haskey">haskey</a></li><li data-type='method'><a href="wsemi.html#.html2pic">html2pic</a></li><li data-type='method'><a href="wsemi.html#.html2picDyn">html2picDyn</a></li><li data-type='method'><a href="wsemi.html#.html2str">html2str</a></li><li data-type='method'><a href="wsemi.html#.html2strDyn">html2strDyn</a></li><li data-type='method'><a href="wsemi.html#.htmlDecode">htmlDecode</a></li><li data-type='method'><a href="wsemi.html#.htmlEncode">htmlEncode</a></li><li data-type='method'><a href="wsemi.html#.importResources">importResources</a></li><li data-type='method'><a href="wsemi.html#.interp1">interp1</a></li><li data-type='method'><a href="wsemi.html#.isab">isab</a></li><li data-type='method'><a href="wsemi.html#.isarr">isarr</a></li><li data-type='method'><a href="wsemi.html#.isarr0">isarr0</a></li><li data-type='method'><a href="wsemi.html#.isblob">isblob</a></li><li data-type='method'><a href="wsemi.html#.isbol">isbol</a></li><li data-type='method'><a href="wsemi.html#.isday">isday</a></li><li data-type='method'><a href="wsemi.html#.isDev">isDev</a></li><li data-type='method'><a href="wsemi.html#.isearr">isearr</a></li><li data-type='method'><a href="wsemi.html#.isEle">isEle</a></li><li data-type='method'><a href="wsemi.html#.isEleExistByID">isEleExistByID</a></li><li data-type='method'><a href="wsemi.html#.isEmail">isEmail</a></li><li data-type='method'><a href="wsemi.html#.iseobj">iseobj</a></li><li data-type='method'><a href="wsemi.html#.iser">iser</a></li><li data-type='method'><a href="wsemi.html#.isernot">isernot</a></li><li data-type='method'><a href="wsemi.html#.isestr">isestr</a></li><li data-type='method'><a href="wsemi.html#.isfun">isfun</a></li><li data-type='method'><a href="wsemi.html#.isIE">isIE</a></li><li data-type='method'><a href="wsemi.html#.isint">isint</a></li><li data-type='method'><a href="wsemi.html#.ismonth">ismonth</a></li><li data-type='method'><a href="wsemi.html#.isn0int">isn0int</a></li><li data-type='method'><a href="wsemi.html#.isn0num">isn0num</a></li><li data-type='method'><a href="wsemi.html#.isNarrow">isNarrow</a></li><li data-type='method'><a href="wsemi.html#.isnbr">isnbr</a></li><li data-type='method'><a href="wsemi.html#.isnint">isnint</a></li><li data-type='method'><a href="wsemi.html#.isnull">isnull</a></li><li data-type='method'><a href="wsemi.html#.isnum">isnum</a></li><li data-type='method'><a href="wsemi.html#.isobj">isobj</a></li><li data-type='method'><a href="wsemi.html#.isobj0">isobj0</a></li><li data-type='method'><a href="wsemi.html#.isp0int">isp0int</a></li><li data-type='method'><a href="wsemi.html#.isp0num">isp0num</a></li><li data-type='method'><a href="wsemi.html#.ispint">ispint</a></li><li data-type='method'><a href="wsemi.html#.ispm">ispm</a></li><li data-type='method'><a href="wsemi.html#.isstr">isstr</a></li><li data-type='method'><a href="wsemi.html#.isstr0">isstr0</a></li><li data-type='method'><a href="wsemi.html#.isStrHasCapital">isStrHasCapital</a></li><li data-type='method'><a href="wsemi.html#.isStrHasLowerCase">isStrHasLowerCase</a></li><li data-type='method'><a href="wsemi.html#.isStrHasNumber">isStrHasNumber</a></li><li data-type='method'><a href="wsemi.html#.istime">istime</a></li><li data-type='method'><a href="wsemi.html#.istimeTZ">istimeTZ</a></li><li data-type='method'><a href="wsemi.html#.isu8arr">isu8arr</a></li><li data-type='method'><a href="wsemi.html#.isu16arr">isu16arr</a></li><li data-type='method'><a href="wsemi.html#.isundefined">isundefined</a></li><li data-type='method'><a href="wsemi.html#.isUserIdentify">isUserIdentify</a></li><li data-type='method'><a href="wsemi.html#.isUserName">isUserName</a></li><li data-type='method'><a href="wsemi.html#.isUserPW">isUserPW</a></li><li data-type='method'><a href="wsemi.html#.isWindow">isWindow</a></li><li data-type='method'><a href="wsemi.html#.j2o">j2o</a></li><li data-type='method'><a href="wsemi.html#.keysmat2ltdt">keysmat2ltdt</a></li><li data-type='method'><a href="wsemi.html#.ltdt2vrtsable">ltdt2vrtsable</a></li><li data-type='method'><a href="wsemi.html#.ltdtdiff">ltdtdiff</a></li><li data-type='method'><a href="wsemi.html#.ltdtkeys2mat">ltdtkeys2mat</a></li><li data-type='method'><a href="wsemi.html#.ltdtkeysheads2mat">ltdtkeysheads2mat</a></li><li data-type='method'><a href="wsemi.html#.ltdtmapping">ltdtmapping</a></li><li data-type='method'><a href="wsemi.html#.ltdtmerge">ltdtmerge</a></li><li data-type='method'><a href="wsemi.html#.ltdtpick">ltdtpick</a></li><li data-type='method'><a href="wsemi.html#.ltdtpull">ltdtpull</a></li><li data-type='method'><a href="wsemi.html#.mat2ltdt">mat2ltdt</a></li><li data-type='method'><a href="wsemi.html#.matat">matat</a></li><li data-type='method'><a href="wsemi.html#.now2str">now2str</a></li><li data-type='method'><a href="wsemi.html#.now2strp">now2strp</a></li><li data-type='method'><a href="wsemi.html#.nowDay2str">nowDay2str</a></li><li data-type='method'><a href="wsemi.html#.o2j">o2j</a></li><li data-type='method'><a href="wsemi.html#.obj2b64">obj2b64</a></li><li data-type='method'><a href="wsemi.html#.obj2pb64">obj2pb64</a></li><li data-type='method'><a href="wsemi.html#.obj2str">obj2str</a></li><li data-type='method'><a href="wsemi.html#.obj2stru8arr">obj2stru8arr</a></li><li data-type='method'><a href="wsemi.html#.obj2u8arr">obj2u8arr</a></li><li data-type='method'><a href="wsemi.html#.ocr">ocr</a></li><li data-type='method'><a href="wsemi.html#.ocrDyn">ocrDyn</a></li><li data-type='method'><a href="wsemi.html#.oo">oo</a></li><li data-type='method'><a href="wsemi.html#.openLink">openLink</a></li><li data-type='method'><a href="wsemi.html#.pb642obj">pb642obj</a></li><li data-type='method'><a href="wsemi.html#.pm2resolve">pm2resolve</a></li><li data-type='method'><a href="wsemi.html#.pmChain">pmChain</a></li><li data-type='method'><a href="wsemi.html#.pmHook">pmHook</a></li><li data-type='method'><a href="wsemi.html#.pmHookReject">pmHookReject</a></li><li data-type='method'><a href="wsemi.html#.pmIni">pmIni</a></li><li data-type='method'><a href="wsemi.html#.pmMap">pmMap</a></li><li data-type='method'><a href="wsemi.html#.pmQueue">pmQueue</a></li><li data-type='method'><a href="wsemi.html#.pmSeries">pmSeries</a></li><li data-type='method'><a href="wsemi.html#.pmThrottle">pmThrottle</a></li><li data-type='method'><a href="wsemi.html#.queue">queue</a></li><li data-type='method'><a href="wsemi.html#.rep">rep</a></li><li data-type='method'><a href="wsemi.html#.replace">replace</a></li><li data-type='method'><a href="wsemi.html#.replaceObj">replaceObj</a></li><li data-type='method'><a href="wsemi.html#.replacePlus">replacePlus</a></li><li data-type='method'><a href="wsemi.html#.repObj">repObj</a></li><li data-type='method'><a href="wsemi.html#.round">round</a></li><li data-type='method'><a href="wsemi.html#.sep">sep</a></li><li data-type='method'><a href="wsemi.html#.sepInt">sepInt</a></li><li data-type='method'><a href="wsemi.html#.sepTimeTZ">sepTimeTZ</a></li><li data-type='method'><a href="wsemi.html#.split">split</a></li><li data-type='method'><a href="wsemi.html#.str2aes">str2aes</a></li><li data-type='method'><a href="wsemi.html#.str2b64">str2b64</a></li><li data-type='method'><a href="wsemi.html#.str2md5">str2md5</a></li><li data-type='method'><a href="wsemi.html#.str2obj">str2obj</a></li><li data-type='method'><a href="wsemi.html#.str2sha512">str2sha512</a></li><li data-type='method'><a href="wsemi.html#.str2u8arr">str2u8arr</a></li><li data-type='method'><a href="wsemi.html#.strCompare">strCompare</a></li><li data-type='method'><a href="wsemi.html#.strdelleft">strdelleft</a></li><li data-type='method'><a href="wsemi.html#.strdelright">strdelright</a></li><li data-type='method'><a href="wsemi.html#.strFindFuzz">strFindFuzz</a></li><li data-type='method'><a href="wsemi.html#.strFindFuzzDyn">strFindFuzzDyn</a></li><li data-type='method'><a href="wsemi.html#.strFindSimilar">strFindSimilar</a></li><li data-type='method'><a href="wsemi.html#.strleft">strleft</a></li><li data-type='method'><a href="wsemi.html#.strmid">strmid</a></li><li data-type='method'><a href="wsemi.html#.strright">strright</a></li><li data-type='method'><a href="wsemi.html#.stru8arr2obj">stru8arr2obj</a></li><li data-type='method'><a href="wsemi.html#.time2day">time2day</a></li><li data-type='method'><a href="wsemi.html#.time2hour">time2hour</a></li><li data-type='method'><a href="wsemi.html#.time2min">time2min</a></li><li data-type='method'><a href="wsemi.html#.timeTZ2day">timeTZ2day</a></li><li data-type='method'><a href="wsemi.html#.timeTZ2expire">timeTZ2expire</a></li><li data-type='method'><a href="wsemi.html#.timeTZ2hour">timeTZ2hour</a></li><li data-type='method'><a href="wsemi.html#.timeTZ2min">timeTZ2min</a></li><li data-type='method'><a href="wsemi.html#.timeTZ2past">timeTZ2past</a></li><li data-type='method'><a href="wsemi.html#.treeObj">treeObj</a></li><li data-type='method'><a href="wsemi.html#.trim">trim</a></li><li data-type='method'><a href="wsemi.html#.u8arr2ab">u8arr2ab</a></li><li data-type='method'><a href="wsemi.html#.u8arr2b64">u8arr2b64</a></li><li data-type='method'><a href="wsemi.html#.u8arr2blob">u8arr2blob</a></li><li data-type='method'><a href="wsemi.html#.u8arr2bs">u8arr2bs</a></li><li data-type='method'><a href="wsemi.html#.u8arr2obj">u8arr2obj</a></li><li data-type='method'><a href="wsemi.html#.u8arr2str">u8arr2str</a></li><li data-type='method'><a href="wsemi.html#.u8arr2u16arr">u8arr2u16arr</a></li><li data-type='method'><a href="wsemi.html#.u16arr2b64">u16arr2b64</a></li><li data-type='method'><a href="wsemi.html#.u16arr2u8arr">u16arr2u8arr</a></li><li data-type='method'><a href="wsemi.html#.urlParse">urlParse</a></li><li data-type='method'><a href="wsemi.html#.verifyValue">verifyValue</a></li><li data-type='method'><a href="wsemi.html#.waitFun">waitFun</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#composeTreeObj">composeTreeObj</a></li><li><a href="global.html#flattenTreeObj">flattenTreeObj</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">treeObj.mjs</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import isFunction from 'lodash/isFunction'
import size from 'lodash/size'
import get from 'lodash/get'
import range from 'lodash/range'
import cloneDeep from 'lodash/cloneDeep'
import isarr from './isarr.mjs'
import isobj from './isobj.mjs'
import isbol from './isbol.mjs'
// import isNumber from 'lodash/isNumber'
// import isString from 'lodash/isString'
// import isBoolean from 'lodash/isBoolean'
// import isFunction from 'lodash/isFunction'
// import size from 'lodash/size'
// import set from 'lodash/set'
// import get from 'lodash/get'
// import slice from 'lodash/slice'
// import range from 'lodash/range'
// import cloneDeep from 'lodash/cloneDeep'
// import isarr from './isarr.mjs'
// import isarr0 from './isarr0.mjs'
// import isobj from './isobj.mjs'
// import isobj0 from './isobj0.mjs'
// import isab from './isab.mjs'
// import isu8arr from './isu8arr.mjs'
// import isu16arr from './isu16arr.mjs'
// import isbol from './isbol.mjs'
// import treeObj from './src/treeObj.mjs'


//performance for traverseObj and runObj
// let data = {
//     a: 123,
//     b: 145.67,
//     c: 'test中文1',
//     d: true,
//     e: function() {},
//     f: [11, 'xyz', false, new Uint8Array([166, 197, 215])],
//     g: {
//         ga: 223,
//         gb: 245.67,
//         gc: 'test中文2',
//         gd: new Uint8Array([66, 97, 115]),
//     },
//     h: Symbol('foo'),
//     [Symbol('i-sym-key')]: 'i-sym-value',
// }

// if (true) {
//     let start = process.hrtime()
//     for (let i = 1; i &lt;= 1000000; i++) {
//         let r1 = traverseObj(data, (v, k) => {
//             return v
//         })
//     }
//     let diff = process.hrtime(start)
//     let elapsedtime = diff[0] + diff[1] / 1e9
//     console.log('traverseObj elapsedtime', elapsedtime)
//     // traverseObj elapsedtime 4.2645716
//     // traverseObj elapsedtime 4.2282303
//     // traverseObj elapsedtime 4.2010933
// }

// if (true) {
//     let start = process.hrtime()
//     for (let i = 1; i &lt;= 1000000; i++) {
//         let r1 = runObj(data, (v, k) => {
//             return v
//         })
//     }
//     let diff = process.hrtime(start)
//     let elapsedtime = diff[0] + diff[1] / 1e9
//     console.log('runObj elapsedtime', elapsedtime)
//     // runObj elapsedtime 10.2841799
//     // runObj elapsedtime 10.8524164
//     // runObj elapsedtime 10.8240743
// }


function traverseObj(data, f, keepSymbols = false) {
    let nowKey = []

    //check
    if (!isarr(data) &amp;&amp; !isobj(data)) {
        data = f(data, null, [])
        return data
    }

    function getKeys(obj) {
        if (isarr(obj)) {
            //return keys(obj)
            return range(size(obj))
        }
        if (isobj(obj)) {
            let v1 = Object.getOwnPropertyNames(obj)
            // console.log('v1', v1)
            let v2 = null
            if (keepSymbols) {
                v2 = Object.getOwnPropertySymbols(obj)
            }
            // console.log('v2', v2)
            if (!isarr(v1)) {
                v1 = []
            }
            if (!isarr(v2)) {
                v2 = []
            }
            return [...v1, ...v2]
        }
        return obj
    }

    function traverse(vs, _k) {
        //console.log('vs', vs)
        if (isarr(vs)) {
            let ks = getKeys(vs)
            return ks.map((k) => {
                let v = vs[k]
                //console.log('map', v, k)
                let t = cloneDeep(nowKey)
                nowKey.push(k)
                v = f(v, k, t)
                v = traverse(v, k)
                nowKey.pop()
                return v
            })
        }
        else if (isobj(vs)) {
            let ks = getKeys(vs)
            let o = {}
            ks.map((k) => {
                let v = vs[k]
                //console.log('map', v, k)
                let t = cloneDeep(nowKey)
                nowKey.push(k)
                v = f(v, k, t)
                v = traverse(v, k)
                nowKey.pop()
                o[k] = v
            })
            return o
        }
        else {
            return vs //f(vs, _k, cloneDeep(slice(nowKey, 1)))
        }
    }

    return traverse(data, f)
}


// function runObj(data, hookFun) {
//     let p = {}
//     let nowKey = ['pnode']

//     //列舉pArray內元素
//     function pArray({ value }) {
//         let n = size(value)
//         for (let k = 0; k &lt; n; k++) {
//             pSelf({
//                 key: k,
//                 value: value[k],
//             })
//         }
//     }

//     //列舉pObject內元素
//     function pObject({ value }) {
//         let kks = Object.keys(value)
//         let n = kks.length
//         for (let i = 0; i &lt; n; i++) {
//             let k = kks[i]
//             pSelf({
//                 key: k,
//                 value: value[k],
//             })
//         }
//     }

//     //取得值的型別
//     function getType(value) {
//         if (isarr(value)) {
//             return 'array'
//         }
//         else if (isobj(value)) {
//             return 'object'
//         }
//         else if (isNumber(value) || isString(value) || isBoolean(value)) {
//             return 'common'
//         }
//         else if (isab(value) || isu8arr(value) || isu16arr(value)) {
//             return 'binary'
//         }
//         else {
//             return 'special'
//         }
//     }

//     //遞迴處理自己元素
//     function pSelf({ key, value }) {

//         //hookFun
//         let nk = slice(nowKey, 1)
//         value = hookFun(value, key, nk)

//         //getType
//         let t = getType(value)

//         //deal
//         if (t === 'array') {
//             nowKey.push(key)
//             pArray({ value })
//             nowKey.pop()
//         }
//         else if (t === 'object') {
//             nowKey.push(key)
//             pObject({ value })
//             nowKey.pop()
//         }
//         else if (t === 'common') {
//             set(p, [...nowKey, key], value)
//         }
//         else if (t === 'binary') {
//             set(p, [...nowKey, key], value)
//         }
//         else {
//             //special
//             set(p, [...nowKey, key], value)
//         }

//     }

//     //top node
//     if (isarr(data)) {
//         if (isarr0(data)) {
//             return data
//         }
//         pArray({
//             value: data,
//         })
//     }
//     else if (isobj(data)) {
//         if (isobj0(data)) {
//             return data
//         }
//         pObject({
//             value: data,
//         })
//     }
//     else {
//         let value = data
//         set(p, nowKey, value)
//     }

//     return p.pnode
// }


/**
 * 遍歷物件並回傳複製物件，類似JSON.stringify，但不會序列化成為字串
 *
 * Unit Test: {@link https://github.com/yuda-lyu/wsemi/blob/master/test/treeObj.test.js Github}
 * @memberOf wsemi
 * @param {*} data 輸入任意資料
 * @param {Function} [hookFun=null] 輸入攔截處理函數，預設null
 * @param {Object} [opt={}] 輸入設定物件，預設{}
 * @param {Boolean} [opt.force=false] 輸入是否允許鍵值為Symbol類型布林值，預設false
 * @returns {*} 回傳複製後的任意資料
 * @example
 *
 * let r
 * let data = {
 *     a: 123,
 *     b: 145.67,
 *     c: 'test中文1',
 *     d: true,
 *     e: function() {},
 *     f: [11, 'xyz', false, new Uint8Array([166, 197, 215])],
 *     g: {
 *         ga: 223,
 *         gb: 245.67,
 *         gc: 'test中文2',
 *         gd: new Uint8Array([66, 97, 115]),
 *     },
 *     h: Symbol('foo'),
 *     [Symbol('i-sym-key')]: 'i-sym-value',
 * }
 *
 * r = treeObj(data, (value, key, nk) => {
 *     console.log('=>', value, key, nk)
 *     return value
 * })
 * console.log('force: false', r)
 * // => 123 a []
 * // => 145.67 b []
 * // => test中文1 c []
 * // => true d []
 * // => [Function: e] e []
 * // => [ 11, 'xyz', false, Uint8Array(3) [ 166, 197, 215 ] ] f []
 * // => 11 0 [ 'f' ]
 * // => xyz 1 [ 'f' ]
 * // => false 2 [ 'f' ]
 * // => Uint8Array(3) [ 166, 197, 215 ] 3 [ 'f' ]
 * // => {
 * //   ga: 223,
 * //   gb: 245.67,
 * //   gc: 'test中文2',
 * //   gd: Uint8Array(3) [ 66, 97, 115 ]
 * // } g []
 * // => 223 ga [ 'g' ]
 * // => 245.67 gb [ 'g' ]
 * // => test中文2 gc [ 'g' ]
 * // => Uint8Array(3) [ 66, 97, 115 ] gd [ 'g' ]
 * // => Symbol(foo) h []
 * // force: false {
 * //   a: 123,
 * //   b: 145.67,
 * //   c: 'test中文1',
 * //   d: true,
 * //   e: [Function: e],
 * //   f: [ 11, 'xyz', false, Uint8Array(3) [ 166, 197, 215 ] ],
 * //   g: {
 * //     ga: 223,
 * //     gb: 245.67,
 * //     gc: 'test中文2',
 * //     gd: Uint8Array(3) [ 66, 97, 115 ]
 * //   },
 * //   h: Symbol(foo)
 * // }
 *
 * r = treeObj(data, (value, key, nk) => {
 *     console.log('=>', value, key, nk)
 *     return value
 * }, { force: true })
 * console.log('force: true', r)
 * // => 123 a []
 * // => 145.67 b []
 * // => test中文1 c []
 * // => true d []
 * // => [Function: e] e []
 * // => [ 11, 'xyz', false, Uint8Array(3) [ 166, 197, 215 ] ] f []
 * // => 11 0 [ 'f' ]
 * // => xyz 1 [ 'f' ]
 * // => false 2 [ 'f' ]
 * // => Uint8Array(3) [ 166, 197, 215 ] 3 [ 'f' ]
 * // => {
 * //   ga: 223,
 * //   gb: 245.67,
 * //   gc: 'test中文2',
 * //   gd: Uint8Array(3) [ 66, 97, 115 ]
 * // } g []
 * // => 223 ga [ 'g' ]
 * // => 245.67 gb [ 'g' ]
 * // => test中文2 gc [ 'g' ]
 * // => Uint8Array(3) [ 66, 97, 115 ] gd [ 'g' ]
 * // => Symbol(foo) h []
 * // => i-sym-value Symbol(i-sym-key) []
 * // force: true {
 * //   a: 123,
 * //   b: 145.67,
 * //   c: 'test中文1',
 * //   d: true,
 * //   e: [Function: e],
 * //   f: [ 11, 'xyz', false, Uint8Array(3) [ 166, 197, 215 ] ],
 * //   g: {
 * //     ga: 223,
 * //     gb: 245.67,
 * //     gc: 'test中文2',
 * //     gd: Uint8Array(3) [ 66, 97, 115 ]
 * //   },
 * //   h: Symbol(foo),
 * //   [Symbol(i-sym-key)]: 'i-sym-value'
 * // }
 *
 */
function treeObj(data, hookFun = null, opt = {}) {

    //hookFun
    if (!isFunction(hookFun)) {
        hookFun = (value) => {
            return value
        }
    }

    //force
    let force = get(opt, 'force', false)
    if (!isbol(force)) {
        force = false
    }

    //call
    return traverseObj(data, hookFun, force)

}


export default treeObj
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Fri Jun 11 2021 11:05:41 GMT+0800 (台北標準時間) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
