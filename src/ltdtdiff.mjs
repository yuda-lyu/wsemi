import get from 'lodash/get'
import union from 'lodash/union'
import size from 'lodash/size'
import isarr from './isarr.mjs'
import isestr from './isestr.mjs'
import getltdtkeys from './getltdtkeys.mjs'
import ltdtkeys2mat from './ltdtkeys2mat.mjs'
import arrDiff from './arrDiff.mjs'


/**
 * 比對新舊物件陣列差異處
 *
 * Unit Test: {@link https://github.com/yuda-lyu/wsemi/blob/master/test/ltdtDiff.test.mjs Github}
 * @memberOf wsemi
 * @param {Array} ltdtOld 輸入原始數據物件陣列
 * @param {Array} ltdtNew 輸入更新數據物件陣列
 * @param {Object} [opt={}] 輸入設定物件，預設{}
 * @param {String} [opt.dlm='\n'] 輸入陣列各列間換行字串，預設'\n'
 * @param {String} [opt.dls='⟋'] 輸入若數據為矩陣時各儲存格分隔字串，預設'⟋'
 * @param {String} [opt.dlq='∶'] 輸入若數據為矩陣時各儲存格欄位指標分隔字串，預設'∶'
 * @param {String} [opt.empty='∗empty∗'] 輸入若無鍵值時給予之預設值，預設'∗empty∗'
 * @returns {Object} 回傳比對結果物件，回傳鍵值diff、dfrs與dfs，其中diff一樣為比對原始結果字串，dfrs為各列比對結果陣列，dfs為各儲存格比對結果陣列
 * @example
 *
 * let r
 * let matOld
 * let matNew
 *
 * matOld = [
 *     { 'cn': '1', 'v1': '', 'v3': '0.506002098' },
 * ]
 * matNew = [
 *     { 'cn': '1', 'v2': '', 'v3': '0.506002098' },
 * ]
 * r = ltdtDiff(matOld, matNew)
 * console.log('diff', r.diff)
 * // => diff Index: title
 * // ===================================================================
 * // --- title
 * // +++ title
 * // @@ -1,1 +1,1 @@
 * // -0∶1⟋1∶⟋2∶0.506002098⟋3∶∗empty∗⟋
 * // +0∶1⟋1∶∗empty∗⟋2∶0.506002098⟋3∶⟋
 * for (let i = 0; i < r.dfs.length; i++) {
 *     let df = r.dfs[i]
 *     console.log(i, 'df', df)
 * }
 * // => 0 df [
 * //   { p: '', vo: '0∶1', vn: '' },
 * //   { p: 'modify', vo: '1∶', vn: '1∶∗empty∗' },
 * //   { p: '', vo: '2∶0.506002098', vn: '' },
 * //   { p: 'modify', vo: '3∶∗empty∗', vn: '3∶' }
 * // ]
 *
 * matOld = [
 *     { 'cn': '1', 'v1': '0.791303871', 'v2': '0.716898185', 'v3': '0.506002098', 'v4': '0.137888903', 'v5': '', 'v6': '0.626724085' },
 *     { 'cn': '2', 'v1': '0.839882385', 'v2': '0.663059856', 'v3': '0.49047221', 'v4': '0.395763265', 'v5': '0.567412025', 'v6': '0.866151835' },
 *     { 'cn': '3', 'v1': '0.475514539', 'v2': '0.969205779', 'v3': '0.711250309', 'v4': '0.153847069', 'v5': '0.304927473', 'v6': '0.410092395' },
 *     { 'cn': '4', 'v1': '0.486179086', 'v2': '0.481023842', 'v3': '0.467410582', 'v4': '0.42602231', 'v5': '', 'v6': '0.849701641' },
 *     { 'cn': '5', 'v1': '0.697242433', 'v2': '0.67532802', 'v3': '0.174644416', 'v4': '0.045652267', 'v5': '', 'v6': '0.397104668' },
 *     { 'cn': '6', 'v1': '0.259252779', 'v2': '0.566177431', 'v3': '0.679637706', 'v4': '0.377814487', 'v5': '', 'v6': '0.400248119' },
 *     { 'cn': '7', 'v1': '0.263793391', 'v2': '0.167895215', 'v3': '0.794808602', 'v4': '0.107070584', 'v5': '', 'v6': '0.011822872' },
 *     { 'cn': '8', 'v1': '0.360426795', 'v2': '0.014346373', 'v3': '0.000469616', 'v4': '0.4082693', 'v5': '', 'v6': '0.913806611' },
 *     { 'cn': '9', 'v1': '0.167996664', 'v2': '0.711054429', 'v3': '0.363177921', 'v4': '0.206849994', 'v5': '', 'v6': '0.636855344' },
 *     { 'cn': '10', 'v1': '0.324665077', 'v2': '0.973218005', 'v3': '0.883927423', 'v4': '0.176906125', 'v5': '', 'v6': '0.20087887' },
 *     { 'cn': '11', 'v1': '', 'v2': '', 'v3': '', 'v4': '', 'v5': '', 'v6': '' },
 *     { 'cn': '12', 'v1': '', 'v2': '', 'v3': '', 'v4': '', 'v5': '', 'v6': '' },
 *     { 'cn': '13', 'v1': '0.984003751', 'v2': '0.32549507', 'v3': '0.987090751', 'v4': '0.192745589', 'v5': '', 'v6': '0.735133561' },
 *     { 'cn': '14', 'v1': '0.083431884', 'v2': '0.565146092', 'v3': '0.935388666', 'v4': '0.637675154', 'v5': '', 'v6': '0.523815661' }
 * ]
 * matNew = [
 *     { 'cn': '1', 'v1': '0.791303871', 'v2': '0.716898185', 'v3': '0.506002098', 'v4': '0.137888903', 'v5': '', 'v6': '0.626724085' },
 *     { 'cn': '2', 'v1': '0.839882385', 'v2': '0.663059856', 'v3': '0.49047221', 'v4': '0.395763265', 'v5': '', 'v6': '0.866151835' },
 *     { 'cn': '3', 'v1': '0.475514539', 'v2': '0.969205779', 'v3': '0.711250309', 'v4': '0.153847069', 'v5': '0.304927473', 'v6': '0.410092395' },
 *     { 'cn': '4', 'v1': '0.486179086', 'v2': '0.481023842', 'v3': '0.467410582', 'v4': '0.42602231', 'v5': '', 'v6': '0.849701641' },
 *     { 'cn': '5', 'v1': '0.169724243', 'v2': '0.67532802', 'v3': '0.174644416', 'v4': '0.045652267', 'v5': '', 'v6': '0.397104668' },
 *     { 'cn': '7', 'v1': '0.263793391', 'v2': '0.167895215', 'v3': '0.794808602', 'v4': '0.107070584', 'v5': '', 'v6': '0.011822872' },
 *     { 'cn': '8', 'v1': '0.360426795', 'v2': '0.014346373', 'v3': '0.000469616', 'v4': '0.4082693', 'v5': '', 'v6': '0.913806611' },
 *     { 'cn': '9', 'v1': '0.167996664', 'v2': '0.711054429', 'v3': '0.363173478', 'v4': '', 'v5': '0.729361837', 'v6': '0.636855344' },
 *     { 'cn': '10', 'v1': '0.324665077', 'v2': '0.973218005', 'v3': '0.883927423', 'v4': '0.176906125', 'v5': '0.397795245', 'v6': '0.20087887' },
 *     { 'cn': '13', 'v1': '0.984003751', 'v2': '0.32549507', 'v3': '0.987090751', 'v4': '0.192745589', 'v5': '', 'v6': '0.735133561' },
 *     { 'cn': '14', 'v1': '0.083431884', 'v2': '0.565146092', 'v3': '0.935388666', 'v4': '0.637675154', 'v5': '', 'v6': '0.523815661' },
 *     { 'cn': 'n1', 'v1': '0.89950443', 'v2': '0.182709318', 'v3': '0.892820757', 'v4': '0.709746901', 'v5': '', 'v6': '0.097385354' },
 *     { 'cn': 'n2', 'v1': '0.061355308', 'v2': '0.314826137', 'v3': '0.855857651', 'v4': '0.653550539', 'v5': '', 'v6': '0.772500773' },
 *     { 'cn': 'n3', 'v1': '0.085078711', 'v2': '0.844664253', 'v3': '0.21630142', 'v4': '0.912931341', 'v5': '', 'v6': '0.735138313' }
 * ]
 * r = ltdtDiff(matOld, matNew)
 * console.log('diff', r.diff)
 * // => diff Index: title
 * // ===================================================================
 * // --- title
 * // +++ title
 * // @@ -1,14 +1,14 @@
 * //  0∶1⟋1∶0.791303871⟋2∶0.716898185⟋3∶0.506002098⟋4∶0.137888903⟋5∶⟋6∶0.626724085⟋
 * // -0∶2⟋1∶0.839882385⟋2∶0.663059856⟋3∶0.49047221⟋4∶0.395763265⟋5∶0.567412025⟋6∶0.866151835⟋
 * // +0∶2⟋1∶0.839882385⟋2∶0.663059856⟋3∶0.49047221⟋4∶0.395763265⟋5∶⟋6∶0.866151835⟋
 * //  0∶3⟋1∶0.475514539⟋2∶0.969205779⟋3∶0.711250309⟋4∶0.153847069⟋5∶0.304927473⟋6∶0.410092395⟋
 * //  0∶4⟋1∶0.486179086⟋2∶0.481023842⟋3∶0.467410582⟋4∶0.42602231⟋5∶⟋6∶0.849701641⟋
 * // -0∶5⟋1∶0.697242433⟋2∶0.67532802⟋3∶0.174644416⟋4∶0.045652267⟋5∶⟋6∶0.397104668⟋
 * // -0∶6⟋1∶0.259252779⟋2∶0.566177431⟋3∶0.679637706⟋4∶0.377814487⟋5∶⟋6∶0.400248119⟋
 * // +0∶5⟋1∶0.169724243⟋2∶0.67532802⟋3∶0.174644416⟋4∶0.045652267⟋5∶⟋6∶0.397104668⟋
 * //  0∶7⟋1∶0.263793391⟋2∶0.167895215⟋3∶0.794808602⟋4∶0.107070584⟋5∶⟋6∶0.011822872⟋
 * //  0∶8⟋1∶0.360426795⟋2∶0.014346373⟋3∶0.000469616⟋4∶0.4082693⟋5∶⟋6∶0.913806611⟋
 * // -0∶9⟋1∶0.167996664⟋2∶0.711054429⟋3∶0.363177921⟋4∶0.206849994⟋5∶⟋6∶0.636855344⟋
 * // -0∶10⟋1∶0.324665077⟋2∶0.973218005⟋3∶0.883927423⟋4∶0.176906125⟋5∶⟋6∶0.20087887⟋
 * // -0∶11⟋1∶⟋2∶⟋3∶⟋4∶⟋5∶⟋6∶⟋
 * // -0∶12⟋1∶⟋2∶⟋3∶⟋4∶⟋5∶⟋6∶⟋
 * // +0∶9⟋1∶0.167996664⟋2∶0.711054429⟋3∶0.363173478⟋4∶⟋5∶0.729361837⟋6∶0.636855344⟋
 * // +0∶10⟋1∶0.324665077⟋2∶0.973218005⟋3∶0.883927423⟋4∶0.176906125⟋5∶0.397795245⟋6∶0.20087887⟋
 * //  0∶13⟋1∶0.984003751⟋2∶0.32549507⟋3∶0.987090751⟋4∶0.192745589⟋5∶⟋6∶0.735133561⟋
 * //  0∶14⟋1∶0.083431884⟋2∶0.565146092⟋3∶0.935388666⟋4∶0.637675154⟋5∶⟋6∶0.523815661⟋
 * // +0∶n1⟋1∶0.89950443⟋2∶0.182709318⟋3∶0.892820757⟋4∶0.709746901⟋5∶⟋6∶0.097385354⟋
 * // +0∶n2⟋1∶0.061355308⟋2∶0.314826137⟋3∶0.855857651⟋4∶0.653550539⟋5∶⟋6∶0.772500773⟋
 * // +0∶n3⟋1∶0.085078711⟋2∶0.844664253⟋3∶0.21630142⟋4∶0.912931341⟋5∶⟋6∶0.735138313⟋
 * for (let i = 0; i < r.dfs.length; i++) {
 *     let df = r.dfs[i]
 *     console.log(i, 'df', df)
 * }
 * // => 0 df [
 * //   { p: '', vo: '0∶1', vn: '' },
 * //   { p: '', vo: '1∶0.791303871', vn: '' },
 * //   { p: '', vo: '2∶0.716898185', vn: '' },
 * //   { p: '', vo: '3∶0.506002098', vn: '' },
 * //   { p: '', vo: '4∶0.137888903', vn: '' },
 * //   { p: '', vo: '5∶', vn: '' },
 * //   { p: '', vo: '6∶0.626724085', vn: '' }
 * // ]
 * // 1 df [
 * //   { p: '', vo: '1∶0.839882385', vn: '' },
 * //   { p: '', vo: '2∶0.663059856', vn: '' },
 * //   { p: '', vo: '3∶0.49047221', vn: '' },
 * //   { p: '', vo: '4∶0.395763265', vn: '' },
 * //   { p: 'modify', vo: '5∶0.567412025', vn: '5∶' },
 * //   { p: '', vo: '6∶0.866151835', vn: '' }
 * // ]
 * // 2 df [
 * //   { p: '', vo: '0∶3', vn: '' },
 * //   { p: '', vo: '1∶0.475514539', vn: '' },
 * //   { p: '', vo: '2∶0.969205779', vn: '' },
 * //   { p: '', vo: '3∶0.711250309', vn: '' },
 * //   { p: '', vo: '4∶0.153847069', vn: '' },
 * //   { p: '', vo: '5∶0.304927473', vn: '' },
 * //   { p: '', vo: '6∶0.410092395', vn: '' }
 * // ]
 * // 3 df [
 * //   { p: '', vo: '0∶4', vn: '' },
 * //   { p: '', vo: '1∶0.486179086', vn: '' },
 * //   { p: '', vo: '2∶0.481023842', vn: '' },
 * //   { p: '', vo: '3∶0.467410582', vn: '' },
 * //   { p: '', vo: '4∶0.42602231', vn: '' },
 * //   { p: '', vo: '5∶', vn: '' },
 * //   { p: '', vo: '6∶0.849701641', vn: '' }
 * // ]
 * // 4 df [
 * //   { p: 'remove', vo: '0∶5', vn: '' },
 * //   { p: 'remove', vo: '1∶0.697242433', vn: '' },
 * //   { p: 'remove', vo: '2∶0.67532802', vn: '' },
 * //   { p: 'remove', vo: '3∶0.174644416', vn: '' },
 * //   { p: 'remove', vo: '4∶0.045652267', vn: '' },
 * //   { p: 'remove', vo: '5∶', vn: '' },
 * //   { p: 'remove', vo: '6∶0.397104668', vn: '' }
 * // ]
 * // 5 df [
 * //   { p: 'remove', vo: '0∶6', vn: '' },
 * //   { p: 'remove', vo: '1∶0.259252779', vn: '' },
 * //   { p: 'remove', vo: '2∶0.566177431', vn: '' },
 * //   { p: 'remove', vo: '3∶0.679637706', vn: '' },
 * //   { p: 'modify', vo: '4∶0.377814487', vn: '0∶5' },
 * //   { p: 'add', vo: '1∶0.169724243', vn: '' },
 * //   { p: 'add', vo: '2∶0.67532802', vn: '' },
 * //   { p: 'add', vo: '3∶0.174644416', vn: '' },
 * //   { p: 'add', vo: '4∶0.045652267', vn: '' },
 * //   { p: '', vo: '5∶', vn: '' },
 * //   { p: 'modify', vo: '6∶0.400248119', vn: '6∶0.397104668' }
 * // ]
 * // 6 df [
 * //   { p: '', vo: '0∶7', vn: '' },
 * //   { p: '', vo: '1∶0.263793391', vn: '' },
 * //   { p: '', vo: '2∶0.167895215', vn: '' },
 * //   { p: '', vo: '3∶0.794808602', vn: '' },
 * //   { p: '', vo: '4∶0.107070584', vn: '' },
 * //   { p: '', vo: '5∶', vn: '' },
 * //   { p: '', vo: '6∶0.011822872', vn: '' }
 * // ]
 * // 7 df [
 * //   { p: '', vo: '0∶8', vn: '' },
 * //   { p: '', vo: '1∶0.360426795', vn: '' },
 * //   { p: '', vo: '2∶0.014346373', vn: '' },
 * //   { p: '', vo: '3∶0.000469616', vn: '' },
 * //   { p: '', vo: '4∶0.4082693', vn: '' },
 * //   { p: '', vo: '5∶', vn: '' },
 * //   { p: '', vo: '6∶0.913806611', vn: '' }
 * // ]
 * // 8 df [
 * //   { p: 'remove', vo: '0∶9', vn: '' },
 * //   { p: 'remove', vo: '1∶0.167996664', vn: '' },
 * //   { p: 'remove', vo: '2∶0.711054429', vn: '' },
 * //   { p: 'remove', vo: '3∶0.363177921', vn: '' },
 * //   { p: 'remove', vo: '4∶0.206849994', vn: '' },
 * //   { p: 'remove', vo: '5∶', vn: '' },
 * //   { p: 'remove', vo: '6∶0.636855344', vn: '' }
 * // ]
 * // 9 df [
 * //   { p: 'remove', vo: '0∶10', vn: '' },
 * //   { p: 'remove', vo: '1∶0.324665077', vn: '' },
 * //   { p: 'remove', vo: '2∶0.973218005', vn: '' },
 * //   { p: 'remove', vo: '3∶0.883927423', vn: '' },
 * //   { p: 'remove', vo: '4∶0.176906125', vn: '' },
 * //   { p: 'remove', vo: '5∶', vn: '' },
 * //   { p: 'remove', vo: '6∶0.20087887', vn: '' }
 * // ]
 * // 10 df [
 * //   { p: 'remove', vo: '0∶11', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶', vn: '' },
 * //   { p: 'remove', vo: '3∶', vn: '' },
 * //   { p: 'remove', vo: '4∶', vn: '' },
 * //   { p: 'remove', vo: '5∶', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' }
 * // ]
 * // 11 df [
 * //   { p: 'remove', vo: '0∶12', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶', vn: '' },
 * //   { p: 'modify', vo: '3∶', vn: '0∶9' },
 * //   { p: 'add', vo: '1∶0.167996664', vn: '' },
 * //   { p: 'add', vo: '2∶0.711054429', vn: '' },
 * //   { p: 'add', vo: '3∶0.363173478', vn: '' },
 * //   { p: '', vo: '4∶', vn: '' },
 * //   { p: 'remove', vo: '5∶', vn: '' },
 * //   { p: 'modify', vo: '6∶', vn: '5∶0.729361837' },
 * //   { p: 'add', vo: '6∶0.636855344', vn: '' }
 * // ]
 * // 12 df [
 * //   { p: 'add', vo: '0∶10', vn: '' },
 * //   { p: 'add', vo: '1∶0.324665077', vn: '' },
 * //   { p: 'add', vo: '2∶0.973218005', vn: '' },
 * //   { p: 'add', vo: '3∶0.883927423', vn: '' },
 * //   { p: 'add', vo: '4∶0.176906125', vn: '' },
 * //   { p: 'add', vo: '5∶0.397795245', vn: '' },
 * //   { p: 'add', vo: '6∶0.20087887', vn: '' }
 * // ]
 * // 13 df [
 * //   { p: '', vo: '0∶13', vn: '' },
 * //   { p: '', vo: '1∶0.984003751', vn: '' },
 * //   { p: '', vo: '2∶0.32549507', vn: '' },
 * //   { p: '', vo: '3∶0.987090751', vn: '' },
 * //   { p: '', vo: '4∶0.192745589', vn: '' },
 * //   { p: '', vo: '5∶', vn: '' },
 * //   { p: '', vo: '6∶0.735133561', vn: '' }
 * // ]
 * // 14 df [
 * //   { p: '', vo: '0∶14', vn: '' },
 * //   { p: '', vo: '1∶0.083431884', vn: '' },
 * //   { p: '', vo: '2∶0.565146092', vn: '' },
 * //   { p: '', vo: '3∶0.935388666', vn: '' },
 * //   { p: '', vo: '4∶0.637675154', vn: '' },
 * //   { p: '', vo: '5∶', vn: '' },
 * //   { p: '', vo: '6∶0.523815661', vn: '' }
 * // ]
 * // 15 df [
 * //   { p: 'add', vo: '0∶n1', vn: '' },
 * //   { p: 'add', vo: '1∶0.89950443', vn: '' },
 * //   { p: 'add', vo: '2∶0.182709318', vn: '' },
 * //   { p: 'add', vo: '3∶0.892820757', vn: '' },
 * //   { p: 'add', vo: '4∶0.709746901', vn: '' },
 * //   { p: 'add', vo: '5∶', vn: '' },
 * //   { p: 'add', vo: '6∶0.097385354', vn: '' }
 * // ]
 * // 16 df [
 * //   { p: 'add', vo: '0∶n2', vn: '' },
 * //   { p: 'add', vo: '1∶0.061355308', vn: '' },
 * //   { p: 'add', vo: '2∶0.314826137', vn: '' },
 * //   { p: 'add', vo: '3∶0.855857651', vn: '' },
 * //   { p: 'add', vo: '4∶0.653550539', vn: '' },
 * //   { p: 'add', vo: '5∶', vn: '' },
 * //   { p: 'add', vo: '6∶0.772500773', vn: '' }
 * // ]
 * // 17 df [
 * //   { p: 'add', vo: '0∶n3', vn: '' },
 * //   { p: 'add', vo: '1∶0.085078711', vn: '' },
 * //   { p: 'add', vo: '2∶0.844664253', vn: '' },
 * //   { p: 'add', vo: '3∶0.21630142', vn: '' },
 * //   { p: 'add', vo: '4∶0.912931341', vn: '' },
 * //   { p: 'add', vo: '5∶', vn: '' },
 * //   { p: 'add', vo: '6∶0.735138313', vn: '' }
 * // ]
 *
 * matOld = [
 *     { 'cn': '1', 'v8': '0.701731713', 'v1': '0.791303871', 'v2': '0.716898185', 'v3': '0.506002098', 'v4': '0.137888903', 'v5': '', 'v6': '0.626724085' },
 *     { 'cn': '2', 'v8': '0.944311349', 'v1': '0.839882385', 'v2': '0.663059856', 'v3': '0.49047221', 'v4': '0.395763265', 'v5': '0.567412025', 'v6': '0.866151835' },
 *     { 'cn': '3', 'v8': '0.516219732', 'v1': '0.475514539', 'v2': '0.969205779', 'v3': '0.711250309', 'v4': '0.153847069', 'v5': '0.304927473', 'v6': '0.410092395' },
 *     { 'cn': '4', 'v8': '0.454533809', 'v1': '0.486179086', 'v2': '0.481023842', 'v3': '0.467410582', 'v4': '0.42602231', 'v5': '', 'v6': '0.849701641' },
 *     { 'cn': '5', 'v8': '0.844099348', 'v1': '0.697242433', 'v2': '0.67532802', 'v3': '0.174644416', 'v4': '0.045652267', 'v5': '', 'v6': '0.397104668' },
 *     { 'cn': '6', 'v8': '0.15264562', 'v1': '0.259252779', 'v2': '0.566177431', 'v3': '0.679637706', 'v4': '0.377814487', 'v5': '', 'v6': '0.400248119' },
 *     { 'cn': '7', 'v8': '0.399132301', 'v1': '0.263793391', 'v2': '0.167895215', 'v3': '0.794808602', 'v4': '0.107070584', 'v5': '', 'v6': '0.011822872' },
 *     { 'cn': '8', 'v8': '', 'v1': '0.360426795', 'v2': '0.014346373', 'v3': '0.000469616', 'v4': '0.4082693', 'v5': '', 'v6': '0.913806611' },
 *     { 'cn': '9', 'v8': '', 'v1': '0.167996664', 'v2': '0.711054429', 'v3': '0.363177921', 'v4': '0.206849994', 'v5': '', 'v6': '0.636855344' },
 *     { 'cn': '10', 'v8': '', 'v1': '0.324665077', 'v2': '0.973218005', 'v3': '0.883927423', 'v4': '0.176906125', 'v5': '', 'v6': '0.20087887' },
 *     { 'cn': '11', 'v8': '', 'v1': '', 'v2': '', 'v3': '', 'v4': '', 'v5': '', 'v6': '' },
 *     { 'cn': '12', 'v8': '', 'v1': '', 'v2': '', 'v3': '', 'v4': '', 'v5': '', 'v6': '' },
 *     { 'cn': '13', 'v8': '', 'v1': '0.984003751', 'v2': '0.32549507', 'v3': '0.987090751', 'v4': '0.192745589', 'v5': '', 'v6': '0.735133561' },
 *     { 'cn': '14', 'v8': '', 'v1': '0.083431884', 'v2': '0.565146092', 'v3': '0.935388666', 'v4': '0.637675154', 'v5': '', 'v6': '0.523815661' }
 * ]
 * matNew = [
 *     { 'cn': '1', 'v9': '', 'v1': '0.791303871', 'v2': '0.716898185', 'v3': '0.506002098', 'v4': '0.137888903', 'v5': '', 'v6': '0.626724085' },
 *     { 'cn': '2', 'v9': '', 'v1': '0.183988239', 'v2': '0.663059856', 'v3': '0.49047221', 'v4': '0.395763265', 'v5': '', 'v6': '0.866151835' },
 *     { 'cn': '3', 'v9': '', 'v1': '0.475514539', 'v2': '0.969205779', 'v3': '0.711250309', 'v4': '0.153847069', 'v5': '0.304927473', 'v6': '0.410092395' },
 *     { 'cn': '4', 'v9': '', 'v1': '0.486179086', 'v2': '0.481023842', 'v3': '0.467410582', 'v4': '0.42602231', 'v5': '', 'v6': '0.849701641' },
 *     { 'cn': '5', 'v9': '', 'v1': '0.697242433', 'v2': '0.67532802', 'v3': '0.174644416', 'v4': '0.045652267', 'v5': '', 'v6': '0.397104668' },
 *     { 'cn': '7', 'v9': '0.15264562', 'v1': '0.263793391', 'v2': '0.167895215', 'v3': '0.794808602', 'v4': '0.107070584', 'v5': '', 'v6': '0.011822872' },
 *     { 'cn': '8', 'v9': '0.399132301', 'v1': '0.360426795', 'v2': '0.014346373', 'v3': '0.000469616', 'v4': '0.4082693', 'v5': '', 'v6': '0.913806611' },
 *     { 'cn': '9', 'v9': '0.84324243', 'v1': '0.167996664', 'v2': '0.711054429', 'v3': '0.363173478', 'v4': '', 'v5': '0.729361837', 'v6': '0.636855344' },
 *     { 'cn': '10', 'v9': '0.631250305', 'v1': '0.324665077', 'v2': '0.973218005', 'v3': '0.883927423', 'v4': '0.176906125', 'v5': '0.397795245', 'v6': '0.20087887' },
 *     { 'cn': '13', 'v9': '0.980581906', 'v1': '0.984003751', 'v2': '0.32549507', 'v3': '0.987090751', 'v4': '0.192745589', 'v5': '', 'v6': '0.735133561' },
 *     { 'cn': '14', 'v9': '', 'v1': '0.083431884', 'v2': '0.565146092', 'v3': '0.935388666', 'v4': '0.637675154', 'v5': '', 'v6': '0.523815661' },
 *     { 'cn': 'n1', 'v9': '', 'v1': '0.89950443', 'v2': '0.182709318', 'v3': '0.892820757', 'v4': '0.709746901', 'v5': '', 'v6': '0.097385354' },
 *     { 'cn': 'n2', 'v9': '', 'v1': '0.061355308', 'v2': '0.314826137', 'v3': '0.855857651', 'v4': '0.653550539', 'v5': '', 'v6': '0.772500773' },
 *     { 'cn': 'n3', 'v9': '0.057840884', 'v1': '0.085078711', 'v2': '0.844664253', 'v3': '0.21630142', 'v4': '0.912931341', 'v5': '', 'v6': '0.735138313' }
 * ]
 * r = ltdtDiff(matOld, matNew)
 * console.log('diff', r.diff)
 * // => diff Index: title
 * // ===================================================================
 * // --- title
 * // +++ title
 * // @@ -1,14 +1,14 @@
 * // -0∶1⟋1∶0.701731713⟋2∶0.791303871⟋3∶0.716898185⟋4∶0.506002098⟋5∶0.137888903⟋6∶⟋7∶0.626724085⟋8∶∗empty∗⟋
 * // -0∶2⟋1∶0.944311349⟋2∶0.839882385⟋3∶0.663059856⟋4∶0.49047221⟋5∶0.395763265⟋6∶0.567412025⟋7∶0.866151835⟋8∶∗empty∗⟋
 * // -0∶3⟋1∶0.516219732⟋2∶0.475514539⟋3∶0.969205779⟋4∶0.711250309⟋5∶0.153847069⟋6∶0.304927473⟋7∶0.410092395⟋8∶∗empty∗⟋
 * // -0∶4⟋1∶0.454533809⟋2∶0.486179086⟋3∶0.481023842⟋4∶0.467410582⟋5∶0.42602231⟋6∶⟋7∶0.849701641⟋8∶∗empty∗⟋
 * // -0∶5⟋1∶0.844099348⟋2∶0.697242433⟋3∶0.67532802⟋4∶0.174644416⟋5∶0.045652267⟋6∶⟋7∶0.397104668⟋8∶∗empty∗⟋
 * // -0∶6⟋1∶0.15264562⟋2∶0.259252779⟋3∶0.566177431⟋4∶0.679637706⟋5∶0.377814487⟋6∶⟋7∶0.400248119⟋8∶∗empty∗⟋
 * // -0∶7⟋1∶0.399132301⟋2∶0.263793391⟋3∶0.167895215⟋4∶0.794808602⟋5∶0.107070584⟋6∶⟋7∶0.011822872⟋8∶∗empty∗⟋
 * // -0∶8⟋1∶⟋2∶0.360426795⟋3∶0.014346373⟋4∶0.000469616⟋5∶0.4082693⟋6∶⟋7∶0.913806611⟋8∶∗empty∗⟋
 * // -0∶9⟋1∶⟋2∶0.167996664⟋3∶0.711054429⟋4∶0.363177921⟋5∶0.206849994⟋6∶⟋7∶0.636855344⟋8∶∗empty∗⟋
 * // -0∶10⟋1∶⟋2∶0.324665077⟋3∶0.973218005⟋4∶0.883927423⟋5∶0.176906125⟋6∶⟋7∶0.20087887⟋8∶∗empty∗⟋
 * // -0∶11⟋1∶⟋2∶⟋3∶⟋4∶⟋5∶⟋6∶⟋7∶⟋8∶∗empty∗⟋
 * // -0∶12⟋1∶⟋2∶⟋3∶⟋4∶⟋5∶⟋6∶⟋7∶⟋8∶∗empty∗⟋
 * // -0∶13⟋1∶⟋2∶0.984003751⟋3∶0.32549507⟋4∶0.987090751⟋5∶0.192745589⟋6∶⟋7∶0.735133561⟋8∶∗empty∗⟋
 * // -0∶14⟋1∶⟋2∶0.083431884⟋3∶0.565146092⟋4∶0.935388666⟋5∶0.637675154⟋6∶⟋7∶0.523815661⟋8∶∗empty∗⟋
 * // +0∶1⟋1∶∗empty∗⟋2∶0.791303871⟋3∶0.716898185⟋4∶0.506002098⟋5∶0.137888903⟋6∶⟋7∶0.626724085⟋8∶⟋
 * // +0∶2⟋1∶∗empty∗⟋2∶0.183988239⟋3∶0.663059856⟋4∶0.49047221⟋5∶0.395763265⟋6∶⟋7∶0.866151835⟋8∶⟋
 * // +0∶3⟋1∶∗empty∗⟋2∶0.475514539⟋3∶0.969205779⟋4∶0.711250309⟋5∶0.153847069⟋6∶0.304927473⟋7∶0.410092395⟋8∶⟋
 * // +0∶4⟋1∶∗empty∗⟋2∶0.486179086⟋3∶0.481023842⟋4∶0.467410582⟋5∶0.42602231⟋6∶⟋7∶0.849701641⟋8∶⟋
 * // +0∶5⟋1∶∗empty∗⟋2∶0.697242433⟋3∶0.67532802⟋4∶0.174644416⟋5∶0.045652267⟋6∶⟋7∶0.397104668⟋8∶⟋
 * // +0∶7⟋1∶∗empty∗⟋2∶0.263793391⟋3∶0.167895215⟋4∶0.794808602⟋5∶0.107070584⟋6∶⟋7∶0.011822872⟋8∶0.15264562⟋
 * // +0∶8⟋1∶∗empty∗⟋2∶0.360426795⟋3∶0.014346373⟋4∶0.000469616⟋5∶0.4082693⟋6∶⟋7∶0.913806611⟋8∶0.399132301⟋
 * // +0∶9⟋1∶∗empty∗⟋2∶0.167996664⟋3∶0.711054429⟋4∶0.363173478⟋5∶⟋6∶0.729361837⟋7∶0.636855344⟋8∶0.84324243⟋
 * // +0∶10⟋1∶∗empty∗⟋2∶0.324665077⟋3∶0.973218005⟋4∶0.883927423⟋5∶0.176906125⟋6∶0.397795245⟋7∶0.20087887⟋8∶0.631250305⟋
 * // +0∶13⟋1∶∗empty∗⟋2∶0.984003751⟋3∶0.32549507⟋4∶0.987090751⟋5∶0.192745589⟋6∶⟋7∶0.735133561⟋8∶0.980581906⟋
 * // +0∶14⟋1∶∗empty∗⟋2∶0.083431884⟋3∶0.565146092⟋4∶0.935388666⟋5∶0.637675154⟋6∶⟋7∶0.523815661⟋8∶⟋
 * // +0∶n1⟋1∶∗empty∗⟋2∶0.89950443⟋3∶0.182709318⟋4∶0.892820757⟋5∶0.709746901⟋6∶⟋7∶0.097385354⟋8∶⟋
 * // +0∶n2⟋1∶∗empty∗⟋2∶0.061355308⟋3∶0.314826137⟋4∶0.855857651⟋5∶0.653550539⟋6∶⟋7∶0.772500773⟋8∶⟋
 * // +0∶n3⟋1∶∗empty∗⟋2∶0.085078711⟋3∶0.844664253⟋4∶0.21630142⟋5∶0.912931341⟋6∶⟋7∶0.735138313⟋8∶0.057840884⟋
 * for (let i = 0; i < r.dfs.length; i++) {
 *     let df = r.dfs[i]
 *     console.log(i, 'df', df)
 * }
 * // => 0 df [
 * //   { p: 'remove', vo: '0∶1', vn: '' },
 * //   { p: 'remove', vo: '1∶0.701731713', vn: '' },
 * //   { p: 'remove', vo: '2∶0.791303871', vn: '' },
 * //   { p: 'remove', vo: '3∶0.716898185', vn: '' },
 * //   { p: 'remove', vo: '4∶0.506002098', vn: '' },
 * //   { p: 'remove', vo: '5∶0.137888903', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.626724085', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 1 df [
 * //   { p: 'remove', vo: '0∶2', vn: '' },
 * //   { p: 'remove', vo: '1∶0.944311349', vn: '' },
 * //   { p: 'remove', vo: '2∶0.839882385', vn: '' },
 * //   { p: 'remove', vo: '3∶0.663059856', vn: '' },
 * //   { p: 'remove', vo: '4∶0.49047221', vn: '' },
 * //   { p: 'remove', vo: '5∶0.395763265', vn: '' },
 * //   { p: 'remove', vo: '6∶0.567412025', vn: '' },
 * //   { p: 'remove', vo: '7∶0.866151835', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 2 df [
 * //   { p: 'remove', vo: '0∶3', vn: '' },
 * //   { p: 'remove', vo: '1∶0.516219732', vn: '' },
 * //   { p: 'remove', vo: '2∶0.475514539', vn: '' },
 * //   { p: 'remove', vo: '3∶0.969205779', vn: '' },
 * //   { p: 'remove', vo: '4∶0.711250309', vn: '' },
 * //   { p: 'remove', vo: '5∶0.153847069', vn: '' },
 * //   { p: 'remove', vo: '6∶0.304927473', vn: '' },
 * //   { p: 'remove', vo: '7∶0.410092395', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 3 df [
 * //   { p: 'remove', vo: '0∶4', vn: '' },
 * //   { p: 'remove', vo: '1∶0.454533809', vn: '' },
 * //   { p: 'remove', vo: '2∶0.486179086', vn: '' },
 * //   { p: 'remove', vo: '3∶0.481023842', vn: '' },
 * //   { p: 'remove', vo: '4∶0.467410582', vn: '' },
 * //   { p: 'remove', vo: '5∶0.42602231', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.849701641', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 4 df [
 * //   { p: 'remove', vo: '0∶5', vn: '' },
 * //   { p: 'remove', vo: '1∶0.844099348', vn: '' },
 * //   { p: 'remove', vo: '2∶0.697242433', vn: '' },
 * //   { p: 'remove', vo: '3∶0.67532802', vn: '' },
 * //   { p: 'remove', vo: '4∶0.174644416', vn: '' },
 * //   { p: 'remove', vo: '5∶0.045652267', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.397104668', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 5 df [
 * //   { p: 'remove', vo: '0∶6', vn: '' },
 * //   { p: 'remove', vo: '1∶0.15264562', vn: '' },
 * //   { p: 'remove', vo: '2∶0.259252779', vn: '' },
 * //   { p: 'remove', vo: '3∶0.566177431', vn: '' },
 * //   { p: 'remove', vo: '4∶0.679637706', vn: '' },
 * //   { p: 'remove', vo: '5∶0.377814487', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.400248119', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 6 df [
 * //   { p: 'remove', vo: '0∶7', vn: '' },
 * //   { p: 'remove', vo: '1∶0.399132301', vn: '' },
 * //   { p: 'remove', vo: '2∶0.263793391', vn: '' },
 * //   { p: 'remove', vo: '3∶0.167895215', vn: '' },
 * //   { p: 'remove', vo: '4∶0.794808602', vn: '' },
 * //   { p: 'remove', vo: '5∶0.107070584', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.011822872', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 7 df [
 * //   { p: 'remove', vo: '0∶8', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶0.360426795', vn: '' },
 * //   { p: 'remove', vo: '3∶0.014346373', vn: '' },
 * //   { p: 'remove', vo: '4∶0.000469616', vn: '' },
 * //   { p: 'remove', vo: '5∶0.4082693', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.913806611', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 8 df [
 * //   { p: 'remove', vo: '0∶9', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶0.167996664', vn: '' },
 * //   { p: 'remove', vo: '3∶0.711054429', vn: '' },
 * //   { p: 'remove', vo: '4∶0.363177921', vn: '' },
 * //   { p: 'remove', vo: '5∶0.206849994', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.636855344', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 9 df [
 * //   { p: 'remove', vo: '0∶10', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶0.324665077', vn: '' },
 * //   { p: 'remove', vo: '3∶0.973218005', vn: '' },
 * //   { p: 'remove', vo: '4∶0.883927423', vn: '' },
 * //   { p: 'remove', vo: '5∶0.176906125', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.20087887', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 10 df [
 * //   { p: 'remove', vo: '0∶11', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶', vn: '' },
 * //   { p: 'remove', vo: '3∶', vn: '' },
 * //   { p: 'remove', vo: '4∶', vn: '' },
 * //   { p: 'remove', vo: '5∶', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 11 df [
 * //   { p: 'remove', vo: '0∶12', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶', vn: '' },
 * //   { p: 'remove', vo: '3∶', vn: '' },
 * //   { p: 'remove', vo: '4∶', vn: '' },
 * //   { p: 'remove', vo: '5∶', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 12 df [
 * //   { p: 'remove', vo: '0∶13', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶0.984003751', vn: '' },
 * //   { p: 'remove', vo: '3∶0.32549507', vn: '' },
 * //   { p: 'remove', vo: '4∶0.987090751', vn: '' },
 * //   { p: 'remove', vo: '5∶0.192745589', vn: '' },
 * //   { p: 'remove', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.735133561', vn: '' },
 * //   { p: 'remove', vo: '8∶∗empty∗', vn: '' }
 * // ]
 * // 13 df [
 * //   { p: 'remove', vo: '0∶14', vn: '' },
 * //   { p: 'remove', vo: '1∶', vn: '' },
 * //   { p: 'remove', vo: '2∶0.083431884', vn: '' },
 * //   { p: 'remove', vo: '3∶0.565146092', vn: '' },
 * //   { p: 'remove', vo: '4∶0.935388666', vn: '' },
 * //   { p: 'modify', vo: '5∶0.637675154', vn: '0∶1' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.791303871', vn: '' },
 * //   { p: 'add', vo: '3∶0.716898185', vn: '' },
 * //   { p: 'add', vo: '4∶0.506002098', vn: '' },
 * //   { p: 'add', vo: '5∶0.137888903', vn: '' },
 * //   { p: '', vo: '6∶', vn: '' },
 * //   { p: 'remove', vo: '7∶0.523815661', vn: '' },
 * //   { p: 'modify', vo: '8∶∗empty∗', vn: '7∶0.626724085' },
 * //   { p: 'add', vo: '8∶', vn: '' }
 * // ]
 * // 14 df [
 * //   { p: 'add', vo: '0∶2', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.183988239', vn: '' },
 * //   { p: 'add', vo: '3∶0.663059856', vn: '' },
 * //   { p: 'add', vo: '4∶0.49047221', vn: '' },
 * //   { p: 'add', vo: '5∶0.395763265', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.866151835', vn: '' },
 * //   { p: 'add', vo: '8∶', vn: '' }
 * // ]
 * // 15 df [
 * //   { p: 'add', vo: '0∶3', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.475514539', vn: '' },
 * //   { p: 'add', vo: '3∶0.969205779', vn: '' },
 * //   { p: 'add', vo: '4∶0.711250309', vn: '' },
 * //   { p: 'add', vo: '5∶0.153847069', vn: '' },
 * //   { p: 'add', vo: '6∶0.304927473', vn: '' },
 * //   { p: 'add', vo: '7∶0.410092395', vn: '' },
 * //   { p: 'add', vo: '8∶', vn: '' }
 * // ]
 * // 16 df [
 * //   { p: 'add', vo: '0∶4', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.486179086', vn: '' },
 * //   { p: 'add', vo: '3∶0.481023842', vn: '' },
 * //   { p: 'add', vo: '4∶0.467410582', vn: '' },
 * //   { p: 'add', vo: '5∶0.42602231', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.849701641', vn: '' },
 * //   { p: 'add', vo: '8∶', vn: '' }
 * // ]
 * // 17 df [
 * //   { p: 'add', vo: '0∶5', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.697242433', vn: '' },
 * //   { p: 'add', vo: '3∶0.67532802', vn: '' },
 * //   { p: 'add', vo: '4∶0.174644416', vn: '' },
 * //   { p: 'add', vo: '5∶0.045652267', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.397104668', vn: '' },
 * //   { p: 'add', vo: '8∶', vn: '' }
 * // ]
 * // 18 df [
 * //   { p: 'add', vo: '0∶7', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.263793391', vn: '' },
 * //   { p: 'add', vo: '3∶0.167895215', vn: '' },
 * //   { p: 'add', vo: '4∶0.794808602', vn: '' },
 * //   { p: 'add', vo: '5∶0.107070584', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.011822872', vn: '' },
 * //   { p: 'add', vo: '8∶0.15264562', vn: '' }
 * // ]
 * // 19 df [
 * //   { p: 'add', vo: '0∶8', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.360426795', vn: '' },
 * //   { p: 'add', vo: '3∶0.014346373', vn: '' },
 * //   { p: 'add', vo: '4∶0.000469616', vn: '' },
 * //   { p: 'add', vo: '5∶0.4082693', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.913806611', vn: '' },
 * //   { p: 'add', vo: '8∶0.399132301', vn: '' }
 * // ]
 * // 20 df [
 * //   { p: 'add', vo: '0∶9', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.167996664', vn: '' },
 * //   { p: 'add', vo: '3∶0.711054429', vn: '' },
 * //   { p: 'add', vo: '4∶0.363173478', vn: '' },
 * //   { p: 'add', vo: '5∶', vn: '' },
 * //   { p: 'add', vo: '6∶0.729361837', vn: '' },
 * //   { p: 'add', vo: '7∶0.636855344', vn: '' },
 * //   { p: 'add', vo: '8∶0.84324243', vn: '' }
 * // ]
 * // 21 df [
 * //   { p: 'add', vo: '0∶10', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.324665077', vn: '' },
 * //   { p: 'add', vo: '3∶0.973218005', vn: '' },
 * //   { p: 'add', vo: '4∶0.883927423', vn: '' },
 * //   { p: 'add', vo: '5∶0.176906125', vn: '' },
 * //   { p: 'add', vo: '6∶0.397795245', vn: '' },
 * //   { p: 'add', vo: '7∶0.20087887', vn: '' },
 * //   { p: 'add', vo: '8∶0.631250305', vn: '' }
 * // ]
 * // 22 df [
 * //   { p: 'add', vo: '0∶13', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.984003751', vn: '' },
 * //   { p: 'add', vo: '3∶0.32549507', vn: '' },
 * //   { p: 'add', vo: '4∶0.987090751', vn: '' },
 * //   { p: 'add', vo: '5∶0.192745589', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.735133561', vn: '' },
 * //   { p: 'add', vo: '8∶0.980581906', vn: '' }
 * // ]
 * // 23 df [
 * //   { p: 'add', vo: '0∶14', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.083431884', vn: '' },
 * //   { p: 'add', vo: '3∶0.565146092', vn: '' },
 * //   { p: 'add', vo: '4∶0.935388666', vn: '' },
 * //   { p: 'add', vo: '5∶0.637675154', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.523815661', vn: '' },
 * //   { p: 'add', vo: '8∶', vn: '' }
 * // ]
 * // 24 df [
 * //   { p: 'add', vo: '0∶n1', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.89950443', vn: '' },
 * //   { p: 'add', vo: '3∶0.182709318', vn: '' },
 * //   { p: 'add', vo: '4∶0.892820757', vn: '' },
 * //   { p: 'add', vo: '5∶0.709746901', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.097385354', vn: '' },
 * //   { p: 'add', vo: '8∶', vn: '' }
 * // ]
 * // 25 df [
 * //   { p: 'add', vo: '0∶n2', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.061355308', vn: '' },
 * //   { p: 'add', vo: '3∶0.314826137', vn: '' },
 * //   { p: 'add', vo: '4∶0.855857651', vn: '' },
 * //   { p: 'add', vo: '5∶0.653550539', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.772500773', vn: '' },
 * //   { p: 'add', vo: '8∶', vn: '' }
 * // ]
 * // 26 df [
 * //   { p: 'add', vo: '0∶n3', vn: '' },
 * //   { p: 'add', vo: '1∶∗empty∗', vn: '' },
 * //   { p: 'add', vo: '2∶0.085078711', vn: '' },
 * //   { p: 'add', vo: '3∶0.844664253', vn: '' },
 * //   { p: 'add', vo: '4∶0.21630142', vn: '' },
 * //   { p: 'add', vo: '5∶0.912931341', vn: '' },
 * //   { p: 'add', vo: '6∶', vn: '' },
 * //   { p: 'add', vo: '7∶0.735138313', vn: '' },
 * //   { p: 'add', vo: '8∶0.057840884', vn: '' }
 * // ]
 *
 */
function ltdtDiff(ltdtOld, ltdtNew, opt = {}) {

    //check
    if (!isarr(ltdtOld)) {
        return {}
    }
    if (!isarr(ltdtNew)) {
        return {}
    }
    if (size(ltdtOld) === 0 && size(ltdtNew) === 0) {
        return {}
    }

    //empty
    let empty = get(opt, 'empty')
    if (!isestr(empty)) {
        empty = '∗empty∗'
    }

    //getltdtkeys
    let keysOld = getltdtkeys(ltdtOld)
    let keysNew = getltdtkeys(ltdtNew)

    //keys
    let keys = union(keysOld, keysNew)
    // console.log('keys', keys)

    //ltdtkeys2mat
    let matOld = ltdtkeys2mat(ltdtOld, keys, { empty })
    let matNew = ltdtkeys2mat(ltdtNew, keys, { empty })

    //arrDiff
    let r = arrDiff(matOld, matNew, { ...opt, mode: 'matrix' })

    return r
}


export default ltdtDiff
